<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>车载台 - 分类 - 来来往往</title>
    <link>https://daizelai.github.io/categories/%E8%BD%A6%E8%BD%BD%E5%8F%B0/</link>
    <description>车载台 - 分类 - 来来往往</description>
    <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Fri, 16 Sep 2022 13:38:00 &#43;0800</lastBuildDate><atom:link href="https://daizelai.github.io/categories/%E8%BD%A6%E8%BD%BD%E5%8F%B0/" rel="self" type="application/rss+xml" /><item>
  <title>屏幕黑屏问题记录</title>
  <link>https://daizelai.github.io/posts/sc60/20220916_1316sc60%E5%B1%8F%E5%B9%95%E9%BB%91%E5%B1%8F%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/</link>
  <pubDate>Fri, 16 Sep 2022 13:38:00 &#43;0800</pubDate>
  <author>作者</author>
  <guid>https://daizelai.github.io/posts/sc60/20220916_1316sc60%E5%B1%8F%E5%B9%95%E9%BB%91%E5%B1%8F%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/</guid>
  <description><![CDATA[20220916_1316SC60屏幕黑屏问题记录 一、描述 1.1.现象 by daizelai on 2022/09/16 13:16
由于深圳14号线车载台现场出现好几次屏幕黑屏的问题了，现出黑屏时，从侧面看屏幕还是有光的，并且使用虚拟屏连接进入后，系统其实一切是正常的。
1.2.首次修改 然后我在实验室复现了一次后，取了串口日志给移远看了后也没有找到具体的问题。然后让把屏幕驱动的初始化时间提到开启背光之前。
二、屏幕驱动修改 2.1.删除原有屏幕驱动实始化 把原有的屏幕驱动初始化删除掉。
[android_SC20@localhost sc60_android_7.1.2_qcom_sz14]$ git diff bootable/bootloader/lk/target/msm8953/target_display.cdiff --git a/bootable/bootloader/lk/target/msm8953/target_display.c b/bootable/bootloader/lk/target/msm8953/target_display.cindex ffb18f8..776b214 100755--- a/bootable/bootloader/lk/target/msm8953/target_display.c+++ b/bootable/bootloader/lk/target/msm8953/target_display.c@@ -299,7 +299,7 @@ static int mipi_convert_i2c_read(uint8_t slave_addr, uint8_t reg, uint8_t *val)}//#define DBG_MIPI_CONVERT-static int mipi_convert_init(void)+int mipi_convert_init(void){int i = 0;#ifdef DBG_MIPI_CONVERT@@ -401,9 +401,9 @@ int target_panel_reset(uint8_t enable, struct panel_reset_sequence *resetseq,if (enable) {/*--&gt;add by danny*/- printf(&#34;danny init\n&#34;);- mipi_convert_init();- printf(&#34;danny init end\n&#34;);+ /*printf(&#34;danny init\n&#34;);*/+ /*mipi_convert_init();*/+ /*printf(&#34;danny init end\n&#34;);*//*&lt;--add by danny*/if (pinfo-&gt;mipi.]]></description>
</item>
<item>
  <title>版本包升级注意事项</title>
  <link>https://daizelai.github.io/posts/sc60/sc60%E7%89%88%E6%9C%AC%E5%8C%85%E5%8D%87%E7%BA%A7%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</link>
  <pubDate>Wed, 11 Aug 2021 14:00:56 &#43;0800</pubDate>
  <author>作者</author>
  <guid>https://daizelai.github.io/posts/sc60/sc60%E7%89%88%E6%9C%AC%E5%8C%85%E5%8D%87%E7%BA%A7%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</guid>
  <description><![CDATA[SC60版本包升级注意事项 一、描述 by daizelai on 2021/08/11 14:00 本文主要记录了SC60制作版本时需要注意的几点，比如如何修改版本号、产品型号、默认的软件集成列表等。
二、编译前的源码修改【老】 2.1.系统版本号 当前系统的版本号，固定台和车载台的版本号是不一样的。
[android_SC20@localhost sc60_android_7.1.2_qcom_sz14]$ git diff build/tools/buildinfo.shdiff --git a/build/tools/buildinfo.sh b/build/tools/buildinfo.shindex 406ce53..1ef8f22 100755--- a/build/tools/buildinfo.sh+++ b/build/tools/buildinfo.sh@@ -15,7 +15,7 @@ echo &#34;ro.build.version.sdk=$PLATFORM_SDK_VERSION&#34;echo &#34;ro.build.version.preview_sdk=$PLATFORM_PREVIEW_SDK_VERSION&#34;echo &#34;ro.build.version.codename=$PLATFORM_VERSION_CODENAME&#34;echo &#34;ro.build.version.all_codenames=$PLATFORM_VERSION_ALL_CODENAMES&#34;-echo &#34;ro.build.version.release=FX300-ANDROID-7.1-R0001&#34;+echo &#34;ro.build.version.release=FX300-ANDROID-7.1-R0002&#34;echo &#34;ro.build.quectelversion.release=01.$QUECTEL_VERSION&#34;echo &#34;ro.build.version.security_patch=$PLATFORM_SECURITY_PATCH&#34;echo &#34;ro.build.version.base_os=$PLATFORM_BASE_OS&#34;[android_SC20@localhost sc60_android_7.1.2_qcom_sz14]$ 2.2.产品型号 产品型号，分为车载台和固定台，并且每条SC60产品线可能型号不同。
[android_SC20@localhost sc60_android_7.1.2_qcom_sz14]$ git diff device/qcom/msm8953_64/msm8953_64.mk diff --git a/device/qcom/msm8953_64/msm8953_64.mk b/device/qcom/msm8953_64/msm8953_64.mkindex 8c69907..1dbcb4b 100755--- a/device/qcom/msm8953_64/msm8953_64.mk+++ b/device/qcom/msm8953_64/msm8953_64.mk@@ -34,7 +34,9 @@ $(call inherit-product, device/qcom/common/common64.]]></description>
</item>
<item>
  <title>温州S2号线车载台APP发起请呼业务不成功的问题</title>
  <link>https://daizelai.github.io/posts/wzs2/%E6%B8%A9%E5%B7%9Es2%E5%8F%B7%E7%BA%BF%E8%BD%A6%E8%BD%BD%E5%8F%B0app%E5%8F%91%E8%B5%B7%E8%AF%B7%E5%91%BC%E4%B8%9A%E5%8A%A1%E4%B8%8D%E6%88%90%E5%8A%9F%E7%9A%84%E9%97%AE%E9%A2%98/</link>
  <pubDate>Mon, 01 Jan 0001 00:00:00 &#43;0000</pubDate>
  <author>作者</author>
  <guid>https://daizelai.github.io/posts/wzs2/%E6%B8%A9%E5%B7%9Es2%E5%8F%B7%E7%BA%BF%E8%BD%A6%E8%BD%BD%E5%8F%B0app%E5%8F%91%E8%B5%B7%E8%AF%B7%E5%91%BC%E4%B8%9A%E5%8A%A1%E4%B8%8D%E6%88%90%E5%8A%9F%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
  <description><![CDATA[温州S2号线车载台APP发起请呼业务不成功的问题 一、描述 问题描述 by daizelai on 2022/09/15 16:03 在车载台APP上面发起请呼调度业务，没有效果。 时间：2022/09/15 14:37
另外，昨天第一次测试车载台的请呼就没有成功的，因为上午时间有限，中午就下车了，所以今天再抓包看。
抓包 请呼时在DIS上面的抓包
请呼抓包
日志 这是第二次请呼抓的日志，不是和上面抓包一起的
二、分析 2.1.从抓包看 请呼问题抓包分析。
2.2.从日志上看 从日志上看可以看到，APP发起请呼后，一直等待DIS服务器的响应，直到超时都没有收到DIS的响应。
2.3.结论 DIS服务器没有回复APP的请呼业务请求。]]></description>
</item>
<item>
  <title>温州S2号线车载台与DIS等连接一会好一会断的问题</title>
  <link>https://daizelai.github.io/posts/wzs2/20220914_1646%E6%B8%A9%E5%B7%9Es2%E5%8F%B7%E7%BA%BF%E8%BD%A6%E8%BD%BD%E5%8F%B0%E4%B8%8Edis%E7%AD%89%E8%BF%9E%E6%8E%A5%E4%B8%80%E4%BC%9A%E5%A5%BD%E4%B8%80%E4%BC%9A%E6%96%AD%E7%9A%84%E9%97%AE%E9%A2%98/</link>
  <pubDate>Mon, 01 Jan 0001 00:00:00 &#43;0000</pubDate>
  <author>作者</author>
  <guid>https://daizelai.github.io/posts/wzs2/20220914_1646%E6%B8%A9%E5%B7%9Es2%E5%8F%B7%E7%BA%BF%E8%BD%A6%E8%BD%BD%E5%8F%B0%E4%B8%8Edis%E7%AD%89%E8%BF%9E%E6%8E%A5%E4%B8%80%E4%BC%9A%E5%A5%BD%E4%B8%80%E4%BC%9A%E6%96%AD%E7%9A%84%E9%97%AE%E9%A2%98/</guid>
  <description><![CDATA[20220914_1646温州S2号线车载台与DIS等连接一会好一会断的问题 一、描述 1.1.问题描述 在开发并运行温州S2号线APP的时候，突然发现，一会能正常收到DIS回复的报文，一会又收不到，APP这边每次正常发送报文，比如心跳是每3秒准时发送。
去DIS服务器192.168.42.177上面抓包发现，APP一会上线，一会下线，并且收到的APP心跳一会是3秒，一会卫了10秒才收到。
1.2.DIS服务器日志 下面是DIS服务器的日志，可以看到有一个m_Socket contains app_id(10.255.0.2) old:strOldIP(10.255.0.2):64003 -&gt; new:strNewIP(192.168.42.130):64003这样的提示，后面问题找到了这里就好理解了，是app_id为10.255.0.2的设备，一会以10.255.0.2IP连接，一会以192.168.42.130连接。其实就是两台终端都向DIS服务器发的，一台是我自己的下挂在GM655+下的终端，一台是我今天下午换到深圳14号线的EV751下的终端。
18:13:56.049 [INFO ] [dis_wz2] [AppNetworkManager.cpp:191, UpdateAppIP, pid: 6220, tid: 18044] : app save socket! app_id(10.255.0.2) IP: 192.168.42.130. Port: 6400318:13:56.049 [WARN ] [dis_wz2] [TaskAPP.cpp:899, OnAppGetATSInfo, pid: 6220, tid: 18044] : app is not online! app_id(10.255.0.2)18:13:56.998 [WARN ] [dis_wz2] [TaskAPP.cpp:899, OnAppGetATSInfo, pid: 6220, tid: 18044] : app is not online! app_id(10.255.0.2)18:13:56.999 [INFO ] [dis_wz2] [AppRegisterManager.cpp:87, AppOnline, pid: 6220, tid: 18044] : app id: 10.]]></description>
</item>
</channel>
</rss>
