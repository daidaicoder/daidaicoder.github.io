<!DOCTYPE html>
<html lang="en-us" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content='20230511_0930gitä»£ç æäº¤è§„èŒƒ ä¸€ã€æè¿° è¯´æ˜ ä¸ºäº†è§„èŒƒæˆ‘çš„gitæäº¤å†…å®¹ï¼Œæäº¤çš„æ—¶å€™commit -m â€œå¤‡æ³¨çš„ä¿¡æ¯â€ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„å¤‡æ³¨ä¿¡æ¯åƒå¥‡ç™¾æ€ªï¼Œä¸ºäº†ç»Ÿä¸€ï¼Œæˆ‘ä»¬è¿›è¡Œäº†gitçš„è§„èŒƒã€‚
æœ¬æ¬¡å®‰è£…è¿‡ç¨‹ï¼š
npm install -g commitizennpm install -g cz-conventional-changelogecho &amp;#39;{ &amp;#34;path&amp;#34;: &amp;#34;cz-conventional-changelog&amp;#34; }&amp;#39; &amp;gt; .czrcnpx commitizen init cz-conventional-changelog --save-dev --save-exactnpx commitizen init cz-conventional-changelog --save-dev --save-exact --forcenpm install -g conventional-changelog-clinpm ls -g -depth=0# ä¸ºäº†Git Bashå‘½ä»¤è¡Œä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é€‰æ‹©git typeï¼Œå®‰è£…ä¸‹é¢è¿™ä¸ªã€‚npm install -g git-cz#ä¸‹é¢æ˜¯changlog#è¿½åŠ conventional-changelog -p angular -i CHANGELOG.md -s#å…¨é‡ç”Ÿæˆconventional-changelog -p angular -i CHANGELOG.md -s -r 0 windowså‘½ä»¤è¡Œç¯å¢ƒ nvm-windows) commitizen-windows.'>
<title>gitä»£ç æäº¤è§„èŒƒ</title>

<link rel='canonical' href='http://example.org/post/20230511_0930git%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83/'>

<link rel="stylesheet" href="/scss/style.min.8191399262444ab68b72a18c97392f5349be20a1615d77445be51e974c144cff.css"><meta property='og:title' content='gitä»£ç æäº¤è§„èŒƒ'>
<meta property='og:description' content='20230511_0930gitä»£ç æäº¤è§„èŒƒ ä¸€ã€æè¿° è¯´æ˜ ä¸ºäº†è§„èŒƒæˆ‘çš„gitæäº¤å†…å®¹ï¼Œæäº¤çš„æ—¶å€™commit -m â€œå¤‡æ³¨çš„ä¿¡æ¯â€ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„å¤‡æ³¨ä¿¡æ¯åƒå¥‡ç™¾æ€ªï¼Œä¸ºäº†ç»Ÿä¸€ï¼Œæˆ‘ä»¬è¿›è¡Œäº†gitçš„è§„èŒƒã€‚
æœ¬æ¬¡å®‰è£…è¿‡ç¨‹ï¼š
npm install -g commitizennpm install -g cz-conventional-changelogecho &amp;#39;{ &amp;#34;path&amp;#34;: &amp;#34;cz-conventional-changelog&amp;#34; }&amp;#39; &amp;gt; .czrcnpx commitizen init cz-conventional-changelog --save-dev --save-exactnpx commitizen init cz-conventional-changelog --save-dev --save-exact --forcenpm install -g conventional-changelog-clinpm ls -g -depth=0# ä¸ºäº†Git Bashå‘½ä»¤è¡Œä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é€‰æ‹©git typeï¼Œå®‰è£…ä¸‹é¢è¿™ä¸ªã€‚npm install -g git-cz#ä¸‹é¢æ˜¯changlog#è¿½åŠ conventional-changelog -p angular -i CHANGELOG.md -s#å…¨é‡ç”Ÿæˆconventional-changelog -p angular -i CHANGELOG.md -s -r 0 windowså‘½ä»¤è¡Œç¯å¢ƒ nvm-windows) commitizen-windows.'>
<meta property='og:url' content='http://example.org/post/20230511_0930git%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83/'>
<meta property='og:site_name' content='My New Hugo Site'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:published_time' content='2023-05-26T18:01:54&#43;08:00'/><meta property='article:modified_time' content='2023-05-26T18:01:54&#43;08:00'/>
<meta name="twitter:title" content="gitä»£ç æäº¤è§„èŒƒ">
<meta name="twitter:description" content="20230511_0930gitä»£ç æäº¤è§„èŒƒ ä¸€ã€æè¿° è¯´æ˜ ä¸ºäº†è§„èŒƒæˆ‘çš„gitæäº¤å†…å®¹ï¼Œæäº¤çš„æ—¶å€™commit -m â€œå¤‡æ³¨çš„ä¿¡æ¯â€ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„å¤‡æ³¨ä¿¡æ¯åƒå¥‡ç™¾æ€ªï¼Œä¸ºäº†ç»Ÿä¸€ï¼Œæˆ‘ä»¬è¿›è¡Œäº†gitçš„è§„èŒƒã€‚
æœ¬æ¬¡å®‰è£…è¿‡ç¨‹ï¼š
npm install -g commitizennpm install -g cz-conventional-changelogecho &amp;#39;{ &amp;#34;path&amp;#34;: &amp;#34;cz-conventional-changelog&amp;#34; }&amp;#39; &amp;gt; .czrcnpx commitizen init cz-conventional-changelog --save-dev --save-exactnpx commitizen init cz-conventional-changelog --save-dev --save-exact --forcenpm install -g conventional-changelog-clinpm ls -g -depth=0# ä¸ºäº†Git Bashå‘½ä»¤è¡Œä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é€‰æ‹©git typeï¼Œå®‰è£…ä¸‹é¢è¿™ä¸ªã€‚npm install -g git-cz#ä¸‹é¢æ˜¯changlog#è¿½åŠ conventional-changelog -p angular -i CHANGELOG.md -s#å…¨é‡ç”Ÿæˆconventional-changelog -p angular -i CHANGELOG.md -s -r 0 windowså‘½ä»¤è¡Œç¯å¢ƒ nvm-windows) commitizen-windows.">
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column compact"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">My New Hugo Site</a></h1>
            <h2 class="site-description"></h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        

        <div class="menu-bottom-section">
            
            
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>Dark Mode</span>
                </li>
            
        </div>
    </ol>
</aside>

    

            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/20230511_0930git%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83/">gitä»£ç æäº¤è§„èŒƒ</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">May 26, 2023</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    23 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="20230511_0930gitä»£ç æäº¤è§„èŒƒ">20230511_0930gitä»£ç æäº¤è§„èŒƒ</h1>
<h2 id="ä¸€æè¿°">ä¸€ã€æè¿°</h2>
<h3 id="è¯´æ˜">è¯´æ˜</h3>
<p>ä¸ºäº†è§„èŒƒæˆ‘çš„gitæäº¤å†…å®¹ï¼Œæäº¤çš„æ—¶å€™commit -m â€œå¤‡æ³¨çš„ä¿¡æ¯â€ï¼Œä½†æ˜¯æ¯ä¸ªäººçš„å¤‡æ³¨ä¿¡æ¯åƒå¥‡ç™¾æ€ªï¼Œä¸ºäº†ç»Ÿä¸€ï¼Œæˆ‘ä»¬è¿›è¡Œäº†gitçš„è§„èŒƒã€‚</p>
<p>æœ¬æ¬¡å®‰è£…è¿‡ç¨‹ï¼š</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">npm install -g commitizen
npm install -g cz-conventional-changelog
echo &#39;{ &#34;path&#34;: &#34;cz-conventional-changelog&#34; }&#39; &gt; .czrc
npx commitizen init cz-conventional-changelog --save-dev --save-exact
npx commitizen init cz-conventional-changelog --save-dev --save-exact --force
npm install -g conventional-changelog-cli
npm ls -g -depth=0

# ä¸ºäº†Git Bashå‘½ä»¤è¡Œä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸Šä¸‹ç®­å¤´é€‰æ‹©git typeï¼Œå®‰è£…ä¸‹é¢è¿™ä¸ªã€‚
npm install -g git-cz

#ä¸‹é¢æ˜¯changlog
#è¿½åŠ 
conventional-changelog -p angular -i CHANGELOG.md -s
#å…¨é‡ç”Ÿæˆ
conventional-changelog -p angular -i CHANGELOG.md -s -r 0
</code></pre><h3 id="windowså‘½ä»¤è¡Œç¯å¢ƒ">windowså‘½ä»¤è¡Œç¯å¢ƒ</h3>
<p><a class="link" href="https://github.com/coreybutler/nvm-windows"  target="_blank" rel="noopener"
    >nvm-windows)</a>
<a class="link" href="https://github.com/snakeclub/DevStandards/blob/master/docs/git/commitizen-windows.md"  target="_blank" rel="noopener"
    >commitizen-windows.md</a></p>
<h3 id="type">Type</h3>
<p>æäº¤ç±»å‹ï¼š</p>
<pre tabindex="0"><code>1.feat: æ–°åŠŸèƒ½ï¼ˆfeatureï¼‰
2.fix: Bugä¿®å¤
3,.docs: æ–‡æ¡£æ›´æ–°ï¼ˆdocumentationï¼‰
4.style: ä»£ç çš„æ ¼å¼ï¼Œæ ‡ç‚¹ç¬¦å·çš„æ›´æ–°ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰
5.refactor: ä»£ç é‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰
6.perf: æ€§èƒ½ä¼˜åŒ–
7.test: æµ‹è¯•æ›´æ–°
8.build: æ„å»ºç³»ç»Ÿæˆ–è€…åŒ…ä¾èµ–æ›´æ–°
9.ci: CI é…ç½®ï¼Œè„šæœ¬æ–‡ä»¶ç­‰æ›´æ–°
10.chore: ésrcæˆ–è€…æµ‹è¯•æ–‡ä»¶çš„æ›´æ–°ã€æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ã€‘
11.revert: commit å›é€€
</code></pre><p>è¯´æ˜ä¸€ä¸‹ï¼š</p>
<pre tabindex="0"><code># ä¸»è¦type
feat:     å¢åŠ æ–°åŠŸèƒ½
fix:      ä¿®å¤bug

# ç‰¹æ®Štype
 docs:    åªæ”¹åŠ¨äº†æ–‡æ¡£ç›¸å…³çš„å†…å®¹
style:    ä¸å½±å“ä»£ç å«ä¹‰çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚å»æ‰ç©ºæ ¼ã€æ”¹å˜ç¼©è¿›ã€å¢åˆ åˆ†å·
build:    æ„é€ å·¥å…·çš„æˆ–è€…å¤–éƒ¨ä¾èµ–çš„æ”¹åŠ¨ï¼Œä¾‹å¦‚webpackï¼Œnpm
refactor:  ä»£ç é‡æ„æ—¶ä½¿ç”¨
revert:   æ‰§è¡Œgit revertæ‰“å°çš„message

# æš‚ä¸ä½¿ç”¨type
test:     æ·»åŠ æµ‹è¯•æˆ–è€…ä¿®æ”¹ç°æœ‰æµ‹è¯•
perf:     æé«˜æ€§èƒ½çš„æ”¹åŠ¨
ci:       ä¸CIï¼ˆæŒç»­é›†æˆæœåŠ¡ï¼‰æœ‰å…³çš„æ”¹åŠ¨
chore:    ä¸ä¿®æ”¹srcæˆ–è€…testçš„å…¶ä½™ä¿®æ”¹ï¼Œä¾‹å¦‚æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
</code></pre><h3 id="scope">Scope</h3>
<p>ç”¨æ¥è¯´æ˜æœ¬æ¬¡Commitå½±å“çš„èŒƒå›´ï¼Œå³ç®€è¦è¯´æ˜ä¿®æ”¹ä¼šæ¶‰åŠçš„éƒ¨åˆ†ã€‚è¿™ä¸ªæœ¬æ¥æ˜¯é€‰å¡«é¡¹ï¼Œä½†ä»AngularJSå®é™…é¡¹ç›®ä¸­å¯ä»¥çœ‹å‡ºåŸºæœ¬ä¸Šä¹Ÿæˆäº†å¿…å¡«é¡¹äº†ã€‚</p>
<h3 id="subject">Subject</h3>
<p>ç”¨æ¥ç®€è¦æè¿°æœ¬æ¬¡æ”¹åŠ¨ï¼Œæ¦‚è¿°å°±å¥½äº†ï¼Œå› ä¸ºåé¢è¿˜ä¼šåœ¨Bodyé‡Œç»™å‡ºå…·ä½“ä¿¡æ¯ã€‚å¹¶ä¸”æœ€å¥½éµå¾ªä¸‹é¢ä¸‰æ¡:</p>
<ul>
<li>ä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œæ¯”å¦‚changeï¼Œè€Œä¸æ˜¯changedæˆ–changes</li>
<li>é¦–å­—æ¯ä¸è¦å¤§å†™</li>
<li>ç»“å°¾ä¸ç”¨å¥å·(.)</li>
</ul>
<h3 id="body">Body</h3>
<p>é‡Œçš„å†…å®¹æ˜¯å¯¹ä¸Šé¢subjecté‡Œå†…å®¹çš„å±•å¼€ï¼Œåœ¨æ­¤åšæ›´åŠ è¯¦å°½çš„æè¿°ï¼Œå†…å®¹é‡Œåº”è¯¥åŒ…å«ä¿®æ”¹åŠ¨æœºå’Œä¿®æ”¹å‰åçš„å¯¹æ¯”ã€‚</p>
<h3 id="footer">Footer</h3>
<p>footeré‡Œçš„ä¸»è¦æ”¾ç½®ä¸å…¼å®¹å˜æ›´å’ŒIssueå…³é—­çš„ä¿¡æ¯ã€‚</p>
<h3 id="revert">Revert</h3>
<p>æ­¤å¤–å¦‚æœéœ€è¦æ’¤é”€ä¹‹å‰çš„Commitï¼Œé‚£ä¹ˆæœ¬æ¬¡Commit Messageä¸­å¿…é¡»ä»¥revertï¼šå¼€å¤´ï¼Œåé¢ç´§è·Ÿå‰é¢æè¿°çš„Headeréƒ¨åˆ†ï¼Œæ ¼å¼ä¸å˜ã€‚å¹¶ä¸”ï¼ŒBodyéƒ¨åˆ†çš„æ ¼å¼ä¹Ÿæ˜¯å›ºå®šçš„ï¼Œå¿…é¡»è¦è®°å½•æ’¤é”€å‰Commitçš„SHAå€¼ã€‚</p>
<h2 id="è¿‡ç¨‹ç²¾ç®€">è¿‡ç¨‹ç²¾ç®€</h2>
<h3 id="commitizenè§„èŒƒ">Commitizenè§„èŒƒ</h3>
<p>1.å…¨å±€å®‰è£…commitizen &amp; cz-conventional-changelog</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux"># å®‰è£…ï¼Œå®‰è£…å®Œæˆä¹‹åå¯ä»¥ä½¿ç”¨git czå‘½ä»¤æ¥å–ä»£git commit
npm install -g commitizen cz-conventional-changelog conventional-changelog-cli

#é€‚é…å™¨
#å¦‚æœéœ€è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨commitizenç”Ÿæˆç¬¦åˆAngularJSè§„èŒƒçš„æäº¤è¯´æ˜ï¼Œåˆå§‹åŒ–cz-conventional-changelogé€‚é…å™¨
commitizen init cz-conventional-changelog --save --save-exact
npx commitizen init cz-conventional-changelog --save-dev --save-exact --force
#ä¸Šé¢åˆå§‹åŒ–é€‚é…å™¨ä¸»è¦è¿›è¡Œäº†3ä»¶äº‹æƒ…ï¼š
#1.åœ¨é¡¹ç›®ä¸­å®‰è£…cz-conventional-changelog é€‚é…å™¨ä¾èµ–
#2.å°†é€‚é…å™¨ä¾èµ–ä¿å­˜åˆ°package.jsonçš„devDependencieså­—æ®µä¿¡æ¯
#3.åœ¨package.jsonä¸­æ–°å¢config.commitizenå­—æ®µä¿¡æ¯ï¼Œä¸»è¦ç”¨äºé…ç½®czå·¥å…·çš„é€‚é…å™¨è·¯å¾„
</code></pre><h3 id="commitizenæ ¡éªŒ">Commitizenæ ¡éªŒ</h3>
<p>2.é¡¹ç›®å†…å®‰è£…commitlint &amp; husky</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">#å®‰è£…
npm install --save-dev @commitlint/config-conventional @commitlint/cli
#æ·»åŠ è§„èŒƒ
echo &#34;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]};&#34; &gt; commitlint.config.js
#å³åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹`D:\code\gbcom_gitlab\SH_JC_Android\commitlint.config.js`æ·»åŠ å¦‚ä¸‹å†…å®¹ã€‚
module.exports = {
  extends: [&#39;@commitlint/config-conventional&#39;]
};

#å®‰è£…gité’©å­å·¥å…·
npm install husky --save-dev
#åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„package.jsonä¸­é…ç½®git commitæäº¤æ—¶çš„æ ¡éªŒé’©å­`D:\code\gbcom_gitlab\SH_JC_Android\package.json`
&#34;husky&#34;: {
  &#34;hooks&#34;: {
    &#34;commit-msg&#34;: &#34;commitlint -E HUSKY_GIT_PARAMS&#34;
  }
}
#ä¸Šé¢çš„commit-msgä»£è¡¨å¯¹ commit message è¿›è¡Œ hookï¼Œhook çš„æ—¶å€™æ‰§è¡Œåé¢çš„å‘½ä»¤ commitlint -E HUSKY_GIT_PARAMS è¿›è¡Œæ£€æŸ¥ã€‚
#å®‰è£…huskyååœ¨package.jsonä¸­æ·»åŠ è„šæœ¬
{
	&#34;devDependencies&#34;: {
		&#34;@commitlint/cli&#34;: &#34;^17.6.3&#34;,
		&#34;@commitlint/config-conventional&#34;: &#34;^17.6.3&#34;,
		&#34;commitlint-config-cz&#34;: &#34;^0.13.3&#34;,
		&#34;commitlint-config-git-commit-emoji&#34;: &#34;^1.0.0&#34;,
		&#34;cz-customizable&#34;: &#34;^7.0.0&#34;,
		&#34;husky&#34;: &#34;^7.0.1&#34;
	},
	&#34;scripts&#34;: {
+		&#34;prepare&#34;: &#34;husky install&#34;,
		&#34;changelog&#34;: &#34;conventional-changelog -p angular -i CHANGELOG.md -s&#34;,
		&#34;changelogs&#34;: &#34;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&#34;,
		&#34;commit&#34;: &#34;cz-customizable&#34;
	}
}
#æ·»åŠ  commit-msg é’©å­,æ‰§è¡Œä¿¡æ¯æ ¡éªŒï¼Œå…¶å®å°±æ˜¯åœ¨.husky/commit-msgæ–‡ä»¶ä¸­æ·»åŠ ã€npx --no-install commitlint --edit &#34;$1&#34;ã€‘
npx husky add .husky/commit-msg &#39;npx --no-install commitlint --edit &#34;$1&#34;&#39;


# validate-commit-msg
# é™¤äº†ä½¿ç”¨commitlintæ ¡éªŒå·¥å…·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨validate-commit-msgæ ¡éªŒå·¥å…·å¯¹czæäº¤è¯´æ˜æ˜¯å¦ç¬¦åˆAngularè§„èŒƒè¿›è¡Œæ ¡éªŒã€‚
</code></pre><h3 id="å®‰è£…çš„ä¾èµ–">å®‰è£…çš„ä¾èµ–</h3>
<p>C:\Users\daizelai\AppData\Roaming\npm\node_modules</p>
<pre tabindex="0"><code>C:\Users\daizelai\AppData\Roaming\npm\node_modules&gt;dir
 é©±åŠ¨å™¨ C ä¸­çš„å·æ²¡æœ‰æ ‡ç­¾ã€‚
 å·çš„åºåˆ—å·æ˜¯ 1A38-870C

 C:\Users\daizelai\AppData\Roaming\npm\node_modules çš„ç›®å½•

2023/05/11  14:04    &lt;DIR&gt;          .
2023/05/11  14:04    &lt;DIR&gt;          ..
2023/05/11  09:37    &lt;DIR&gt;          commitizen
2023/05/04  16:54    &lt;DIR&gt;          conventional-changelog
2023/05/11  14:04    &lt;DIR&gt;          conventional-changelog-cli
2023/05/11  09:48    &lt;DIR&gt;          cz-conventional-changelog
2023/05/11  10:47    &lt;DIR&gt;          git-cz
               0 ä¸ªæ–‡ä»¶              0 å­—èŠ‚
               7 ä¸ªç›®å½•  3,261,562,880 å¯ç”¨å­—èŠ‚

C:\Users\daizelai\AppData\Roaming\npm\node_modules&gt;
</code></pre><h3 id="å®‰è£…å¯è‡ªå®šä¹‰çš„czé€‚é…å™¨">å®‰è£…å¯è‡ªå®šä¹‰çš„czé€‚é…å™¨</h3>
<p>å› ä¸ºcommitizenåªæ”¯æŒè‹±æ–‡ï¼Œå¦‚æœæˆ‘æƒ³è¦æ”¯æŒä¸­æ–‡æŒ‡ä»¤å’Œemojiï¼Œé‚£ä¹ˆå°±å¿…é¡»å®‰è£…å¯è‡ªå®šä¹‰çš„czé€‚é…å™¨äº†</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">npm i -D commitlint-config-cz  cz-customizable commitlint-config-git-commit-emoji
</code></pre><p>é…ç½®é¡¹ç›®æ ¹ç›®å½•çš„<code>.cz-config.js</code>æ–‡ä»¶å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">module.exports</span> <span style="color:#960050;background-color:#1e0010">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">types:</span> <span style="color:#960050;background-color:#1e0010">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:sparkles:</span> <span style="color:#960050;background-color:#1e0010">feat&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âœ¨</span> <span style="color:#960050;background-color:#1e0010">feat:</span>     <span style="color:#960050;background-color:#1e0010">æ–°åŠŸèƒ½&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:bug:</span> <span style="color:#960050;background-color:#1e0010">fix&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ›</span> <span style="color:#960050;background-color:#1e0010">fix:</span>      <span style="color:#960050;background-color:#1e0010">ä¿®å¤bug&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:package:</span> <span style="color:#960050;background-color:#1e0010">build&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ“¦ï¸</span> <span style="color:#960050;background-color:#1e0010">build:</span>    <span style="color:#960050;background-color:#1e0010">æ‰“åŒ…&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:zap:</span> <span style="color:#960050;background-color:#1e0010">perf&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âš¡ï¸</span> <span style="color:#960050;background-color:#1e0010">perf:</span>     <span style="color:#960050;background-color:#1e0010">æ€§èƒ½ä¼˜åŒ–&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:tada:</span> <span style="color:#960050;background-color:#1e0010">release&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ‰</span> <span style="color:#960050;background-color:#1e0010">release:</span>  <span style="color:#960050;background-color:#1e0010">å‘å¸ƒæ­£å¼ç‰ˆ&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:lipstick:</span> <span style="color:#960050;background-color:#1e0010">style&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ’„</span> <span style="color:#960050;background-color:#1e0010">style:</span>    <span style="color:#960050;background-color:#1e0010">ä»£ç çš„æ ·å¼ç¾åŒ–&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:recycle:</span> <span style="color:#960050;background-color:#1e0010">refactor&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;â™»ï¸</span>  <span style="color:#960050;background-color:#1e0010">refactor:</span> <span style="color:#960050;background-color:#1e0010">é‡æ„&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:pencil2:</span> <span style="color:#960050;background-color:#1e0010">docs&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âœï¸</span>  <span style="color:#960050;background-color:#1e0010">docs:</span>     <span style="color:#960050;background-color:#1e0010">æ–‡æ¡£å˜æ›´&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:white_check_mark:</span> <span style="color:#960050;background-color:#1e0010">test&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âœ…</span> <span style="color:#960050;background-color:#1e0010">test:</span>     <span style="color:#960050;background-color:#1e0010">æµ‹è¯•&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:rewind:</span> <span style="color:#960050;background-color:#1e0010">revert&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âªï¸</span> <span style="color:#960050;background-color:#1e0010">revert:</span>   <span style="color:#960050;background-color:#1e0010">å›é€€&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:rocket:</span> <span style="color:#960050;background-color:#1e0010">chore&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸš€</span> <span style="color:#960050;background-color:#1e0010">chore:</span>    <span style="color:#960050;background-color:#1e0010">æ„å»º/å·¥ç¨‹ä¾èµ–/å·¥å…·&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:construction_worker:</span> <span style="color:#960050;background-color:#1e0010">ci&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ‘·</span> <span style="color:#960050;background-color:#1e0010">ci:</span>       <span style="color:#960050;background-color:#1e0010">CI</span> <span style="color:#960050;background-color:#1e0010">related</span> <span style="color:#960050;background-color:#1e0010">changes&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">messages:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·é€‰æ‹©æäº¤ç±»å‹(å¿…å¡«)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">customScope:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·è¾“å…¥æ–‡ä»¶ä¿®æ”¹èŒƒå›´(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">subject:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">body:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">breaking:</span> <span style="color:#960050;background-color:#1e0010">&#39;åˆ—å‡ºä»»ä½•BREAKING</span> <span style="color:#960050;background-color:#1e0010">CHANGES(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">footer:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·è¾“å…¥è¦å…³é—­çš„issue(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">confirmCommit:</span> <span style="color:#960050;background-color:#1e0010">&#39;ç¡®å®šæäº¤æ­¤è¯´æ˜å—ï¼Ÿ&#39;</span>
</span></span><span style="display:flex;"><span>  }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">allowCustomScopes:</span> <span style="color:#66d9ef">true</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// è·³è¿‡é—®é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#960050;background-color:#1e0010">skipQuestions:</span> [<span style="color:#960050;background-color:#1e0010">&#39;body&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;footer&#39;</span>]<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">subjectLimit:</span> <span style="color:#ae81ff">72</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}</span>
</span></span></code></pre></div><p>å°†cz-customizableè„šæœ¬æ·»åŠ åˆ°æ‚¨çš„<code>package.json</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">//#npm set-script commit &#34;git add . &amp;&amp; cz-customizable&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;@commitlint/cli&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;@commitlint/config-conventional&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;commitlint-config-cz&#34;</span>: <span style="color:#e6db74">&#34;^0.13.3&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;commitlint-config-git-commit-emoji&#34;</span>: <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;cz-customizable&#34;</span>: <span style="color:#e6db74">&#34;^7.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^7.0.1&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;changelog&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;changelogs&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>		<span style="color:#f92672">&#34;commit&#34;</span>: <span style="color:#e6db74">&#34;cz-customizable&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="commitizen">commitizen</h2>
<p>å½“ä½ ä½¿ç”¨commitizenè¿›è¡Œä»£ç æäº¤ï¼ˆgitcommitï¼‰æ—¶ï¼Œcommitizenä¼šæäº¤ä½ åœ¨æäº¤æ—¶å¡«å†™æ‰€æœ‰å¿…éœ€çš„æäº¤å­—æ®µ</p>
<p>commitizenæ˜¯ä¸€ä¸ªæ’°å†™åˆæ ¼commit messageçš„å·¥å…·ï¼Œç”¨äºä»£æ›¿git commit æŒ‡ä»¤ï¼Œè€Œcz-conventional-changelogé€‚é…å™¨æä¾›conventional-changelogæ ‡å‡†ï¼ˆçº¦å®šå¼æäº¤æ ‡å‡†ï¼‰ã€‚</p>
<h2 id="å®‰è£…">å®‰è£…</h2>
<h3 id="å®‰è£…commitizen">å®‰è£…commitizen</h3>
<p>é¦–å…ˆè¦å…¨å±€å®‰è£…commitizen</p>
<pre tabindex="0"><code>npm i -g commitizen@4.2.4
</code></pre><p>ç„¶åå®‰è£…æ’ä»¶</p>
<pre tabindex="0"><code>npm i cz-customizable@6.3.0 --save-dev
</code></pre><p>ä¹Ÿå¯ä»¥ç›´æ¥å…¨å±€å®‰è£…commitizen &amp; cz-conventional-changelog</p>
<pre tabindex="0"><code>npm install -g commitizen cz-conventional-changelog
echo &#39;{ &#34;path&#34;: &#34;cz-conventional-changelog&#34; }&#39; &gt; ~/.czrc
</code></pre><blockquote>
<p>æ­£å¼å®‰è£…</p>
</blockquote>
<p>æ¥çš„å®‰è£…è¿‡ç¨‹ï¼š</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">PS C:\Users\daizelai&gt; npm -v
9.5.1
PS C:\Users\daizelai&gt; date

2023å¹´5æœˆ11æ—¥ 9:36:43


PS C:\Users\daizelai&gt; npm install -g commitizen

added 191 packages in 1m

24 packages are looking for funding
  run `npm fund` for details
PS C:\Users\daizelai&gt; npm fund
daizelai

PS C:\Users\daizelai&gt;
</code></pre><h3 id="å…¨å±€å®‰è£…é€‚é…å™¨">å…¨å±€å®‰è£…é€‚é…å™¨</h3>
<p>cz-customizableå’Œcz-conventional-changelogä¸€æ ·ï¼Œä¹Ÿæ˜¯commitizençš„adapterï¼Œä¸è¿‡æ”¯æŒä¸€å®šç¨‹åº¦ä¸Šçš„è‡ªå®šä¹‰ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">npm install -g cz-conventional-changelog
# æœ‰çš„æ˜¯å®‰è£…ä¸‹é¢è¿™ä¸ªï¼Œæ¥æ²¡æœ‰è¿™ä¹ˆå®‰è£…
npm install -g conventional-changelog
npm install -g conventional-changelog-cli
</code></pre><p>æ¥çš„å®‰è£…è¿‡ç¨‹ï¼š</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">PS C:\Users\daizelai&gt; npm install -g cz-conventional-changelog

added 191 packages in 28s

24 packages are looking for funding
  run `npm fund` for details
PS C:\Users\daizelai&gt;
</code></pre><p>æ£€éªŒä¸Šé¢çš„å·¥å…·æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹<code>npm ls -g -depth=0</code>å‘½ä»¤ã€‚</p>
<pre tabindex="0"><code>D:\code\gbcom_gitlab\SH_JC_Android&gt;npm ls -g -depth=0
C:\Users\daizelai\AppData\Roaming\npm
+-- commitizen@4.3.0
+-- conventional-changelog@3.1.25
+-- cz-conventional-changelog@3.3.0
`-- git-cz@4.9.0


D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>æ¥åæ¥åˆå®‰è£…äº†ä¸€ä¸‹ï¼Œä¸‹é¢çš„å‘½ä»¤å®‰è£…<code>cz-conventional-changelog</code>, å¹¶ä¸”åˆå§‹åŒ–<code>cz-conventional-changelog</code>ã€‚</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">C:\Users\daizelai&gt;npx commitizen init cz-conventional-changelog --save-dev --save-exact
Attempting to initialize using the npm package cz-conventional-changelog
Error: Error: A previous adapter is already configured. Use --force to override
    adapterConfig.path: cz-conventional-changelog
    repoPath: C:\Users\daizelai
    CLI_PATH: C:\Users\daizelai\AppData\Roaming\npm\node_modules\commitizen\
    installAdapterCommand: npm install cz-conventional-changelog --save-dev
    adapterNpmName: cz-conventional-changelog


C:\Users\daizelai&gt;npx commitizen init cz-conventional-changelog --save-dev --save-exact --force
Attempting to initialize using the npm package cz-conventional-changelog
npm WARN using --force Recommended protections disabled.

C:\Users\daizelai&gt;
</code></pre><h3 id="é…ç½®">é…ç½®</h3>
<p>å¦‚æœä½ æ˜¯macç”¨æˆ·ï¼Œè¿è¡Œä¸‹é¢è¿™æ¡å‘½ä»¤ï¼Œå®ƒä¼šåœ¨ä½ çš„homeç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ª.czrcæ–‡ä»¶ã€‚è·¯å¾„æŒ‡å‘åˆšæ‰å…¨å±€å®‰è£…çš„é€‚é…å™¨ã€‚</p>
<pre tabindex="0"><code>echo &#39;{ &#34;path&#34;: &#34;cz-conventional-changelog&#34; }&#39; &gt; ~/.czrc
</code></pre><p>å¦‚æœä½ æ˜¯windowsç”¨æˆ·ï¼Œè¯·æŠŠä¸‹é¢è¿™æ¡å‘½ä»¤ä¸­çš„<code>C:\Users\daizelai</code>æ›´æ¢æˆä½ è‡ªå·±ç”µè„‘ä¸Šçš„<code>\Users\username</code>ç›®å½•å†è¿è¡Œã€‚è¿™æ¡å‘½ä»¤çš„æœ¬è´¨å…¶å®å°±æ˜¯åœ¨<code>Users\username</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå†…å®¹ä¸º<code>{ &quot;path&quot;: &quot;cz-conventional-changelog&quot; }</code>çš„<code>.czrc</code>æ–‡ä»¶ã€‚</p>
<pre tabindex="0"><code>echo { &#34;path&#34;: &#34;cz-conventional-changelog&#34; } &gt; C:\Users\daizelai\.czrc
</code></pre><p>æ¥çš„æ“ä½œè¿‡ç¨‹ï¼š</p>
<pre tabindex="0"><code>daizelai@GBCOM-20210524I MINGW64 ~
$ date
Thu May 11 09:45:44     2023

daizelai@GBCOM-20210524I MINGW64 ~
$ pwd
/c/Users/daizelai

daizelai@GBCOM-20210524I MINGW64 ~
$ ls -l .czrc
ls: cannot access &#39;.czrc&#39;: No such file or directory

daizelai@GBCOM-20210524I MINGW64 ~
$ echo &#39;{ &#34;path&#34;: &#34;cz-conventional-changelog&#34; }&#39; &gt; .czrc

daizelai@GBCOM-20210524I MINGW64 ~
$ ls -l .czrc
-rw-r--r-- 1 daizelai 197121 36 May 11 09:46 .czrc

daizelai@GBCOM-20210524I MINGW64 ~
$ cat .czrc
{ path: cz-conventional-changelog }

daizelai@GBCOM-20210524I MINGW64 ~
$
</code></pre><p>ä¸€å®šè¦æ£€æŸ¥ä¸€ä¸‹.czrcçš„æ–‡ä»¶å†…å®¹ï¼š</p>
<pre tabindex="0"><code class="language-czrc" data-lang="czrc">{ &#34;path&#34;: &#34;cz-conventional-changelog&#34; }
</code></pre><p>å°†è¿™ä¸ª.czrcæ–‡ä»¶è½¬æ¢ä¸ºutf8æ ¼å¼ï¼Œå› ä¸ºGit-bashåªè®¤utf8æ ¼å¼çš„è¯¥æ–‡ä»¶ã€‚</p>
<p><strong>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥é…ç½®jsonï¼Œä¸ç”Ÿæˆ.czrcæ–‡ä»¶</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#e6db74">&#34;config&#34;</span><span style="color:#960050;background-color:#1e0010">:Â </span>{
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Â Â Â Â </span><span style="color:#f92672">&#34;commitizen&#34;</span>:<span style="color:#960050;background-color:#1e0010">Â </span>{
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Â Â Â Â Â Â </span><span style="color:#f92672">&#34;path&#34;</span>:<span style="color:#960050;background-color:#1e0010">Â </span><span style="color:#e6db74">&#34;cz-conventional-changelog&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Â Â Â Â </span>}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å·²ç»å®Œæˆäº†Commitizençš„å…¨å±€å®‰è£…ï¼ä½ å¯ä»¥åœ¨ä»»ä½•ä¸€ä¸ªgitä»“åº“ä¸­ä½¿ç”¨git czï¼Œè€Œä¸æ˜¯git commitã€‚å¦å¤–ï¼Œä½ å¯ä»¥åœ¨git czä¸Šä½¿ç”¨git commitçš„æ‰€æœ‰å‚æ•°ï¼Œæ¯”å¦‚git cz -aã€‚å¦‚æœé¡¹ç›®å’Œå…¨å±€éƒ½å®‰è£…è¿‡Commitizenï¼Œé‚£ä¹ˆä¼šä½¿ç”¨é¡¹ç›®ä¸­çš„Commitizené€‚é…å™¨ï¼Œè€Œä¸æ˜¯å…¨å±€çš„ã€‚</p>
<h3 id="ä½¿ç”¨">ä½¿ç”¨</h3>
<p>ä¸‹é¢æ˜¯é€šè¿‡<code>Git Bash</code>ä¸­æ‰§è¡Œ<code>git cz</code>å‘½ä»¤åï¼Œæ— æ³•ä½¿ç”¨é”®ç›˜çš„ä¸Šä¸‹ç®­å¤´æ¥é€‰æ‹©æäº¤ç±»å‹ï¼Œä¸è¿‡å¯ä»¥ç›´æ¥è¾“å…¥ç±»å‹å…³é”®å­—å°±å¯ä»¥äº†ï¼Œå¦‚è¾“å…¥<code>fix</code>åå›è½¦ï¼Œåé¢æœ‰ä»‹ç»è¯´å¯ä»¥é‡æ–°å®‰è£…ä¸€ä¸ª<code>git-cz</code>æ¥è§£å†³æ­¤é—®é¢˜ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git cz
cz-cli@4.3.0, cz-conventional-changelog@3.3.0

// è¿™æ¬¡æäº¤çš„ç±»å‹æ˜¯ä»€ä¹ˆ
? Select the type of change that you&#39;re committing: (Use arrow keys)
&gt; feat:     A new feature // æ–°å¢ç‰¹æ€§ï¼ˆfeature)
  fix:      A bug fix // ä¿®å¤bug(bug fix)
  docs:     Documentation only changes // ä¿®æ”¹æ–‡æ¡£
  style:    Changes that do not affect the meaning of the code (white-space,
formatting, missing semi-colons, etc) // ä»£ç æ ¼å¼ä¿®æ”¹
  refactor: A code change that neither fixes a bug nor adds a feature // ä»£ç é‡æ„
  perf:     A code change that improves performance // æ”¹å–„æ€§èƒ½
  test:     Adding missing tests or correcting existing tests  // æµ‹è¯•
  build:    Changes that affect the build system or external dependencies (example
scopes: gulp, broccoli, npm) // å˜æ›´é¡¹ç›®æ„å»ºæˆ–å¤–éƒ¨ä¾èµ–ï¼ˆä¾‹å¦‚ scopes:webpackã€gulpã€npmç­‰ï¼‰
  ci:       Changes to our CI configuration files and scripts (example scopes: Travis, Circle, BrowserStack, SauceLabs
) // æ›´æ”¹æŒç»­é›†æˆè½¯ä»¶çš„é…ç½®æ–‡ä»¶å’Œpackageä¸­çš„script å‘½ä»¤
  chore:    Other changes that don&#39;t modify src or test files // å˜æ›´æ„å»ºæµç¨‹æˆ–è¾…åŠ©å·¥å…·ï¼ˆæ¯”å¦‚æ›´æ”¹æµ‹è¯•ç¯å¢ƒï¼‰
  revert:   Reverts a previous commit // ä»£ç å›é€€
(Move up and down to reveal more choices)
daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$
</code></pre><p>ä½†æ˜¯é€šè¿‡windowsçš„ç»ˆç«¯å‘½ä»¤è¡Œä¸­ï¼Œä½¿ç”¨<code>git cz</code>å‘½ä»¤å°±å¯ä»¥ä½¿ç”¨é”®ç›˜çš„ä¸Šä¸‹ç®­å¤´æ¥é€‰æ‹©æäº¤ç±»å‹ã€‚</p>
<pre tabindex="0"><code class="language-git" data-lang="git">D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 13:28:11.28
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;git status
On branch master
Your branch is up to date with &#39;origin/master&#39;.

Changes to be committed:
  (use &#34;git restore --staged &lt;file&gt;...&#34; to unstage)
        modified:   zte/app/build.gradle


D:\code\gbcom_gitlab\SH_JC_Android&gt;git cz
? Select the type of change that you&#39;re committing: ğŸ›  fix:        A bug fix
? Write a short, imperative mood description of the change:
  [-------------------------------------------------------------] 56 chars left
   fix: ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG
? Provide a longer description of the change:
  é€šè¿‡ä¿®å¤é€šè¯çš„ä¸šåŠ¡ä»£ç ï¼Œä¿®å¤äº†ç»„å‘¼é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUGã€‚
? List any breaking changes // é€‰æ‹©æ˜¯å¦æœ‰ä¸å…¼å®¹æ”¹é€ ç‚¹breakingï¼Œå¦‚æœæœ‰è¾“å…¥ä¸å…¼å®¹æ”¹é€ ç‚¹æè¿°ï¼š
  BREAKING CHANGE:
? Issues this commit closes, e.g #123: #110 // é€‰æ‹©æ˜¯å¦æœ‰é—®é¢˜è§£å†³issuesï¼Œå¦‚æœæœ‰è¾“å…¥è§£å†³çš„é—®é¢˜æ¸…å•
[master 972ecce] fix: ğŸ› ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG
 1 file changed, 1 insertion(+), 1 deletion(-)

D:\code\gbcom_gitlab\SH_JC_Android&gt;git log -n 1
commit 972ecce6e508a62d5c8ecbc0000ab04838b7250f (HEAD -&gt; master)
Author: daizelai &lt;daizelai@gbcom.com.cn&gt;
Date:   Thu May 11 13:28:51 2023 +0800

    fix: ğŸ› ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG

    é€šè¿‡ä¿®å¤é€šè¯çš„ä¸šåŠ¡ä»£ç ï¼Œä¿®å¤äº†ç»„å‘¼é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUGã€‚

    âœ… Closes: #110

D:\code\gbcom_gitlab\SH_JC_Android&gt;git reflog -n 1
972ecce (HEAD -&gt; master) HEAD@{0}: commit: fix: ğŸ› ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p><img src="/images/cmd_git_cz_20230511_1329.gif"
	
	
	
	loading="lazy"
	
	
></p>
<h3 id="å®‰è£…git-cz">å®‰è£…git-cz</h3>
<p>åœ¨windowç³»ç»Ÿä¸‹çš„<code>Git Bash</code>ä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œwindowç³»ç»Ÿä¸‹ä½¿ç”¨<code>git cz</code>åæ— æ³•ä¸Šä¸‹é€‰æ‹©æœ¬æ¬¡æäº¤çš„ç±»å‹ï¼Œè¿™é‡Œç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªå·¥å…·ï¼Œåœ¨ä½ <code>git cz</code>å‰é¢åŠ ä¸Šâ€œwinptyâ€ï¼Œå³å¯å®ç°ä¸Šä¸‹é€‰æ‹©ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">npm install -g git-cz
git-cz
</code></pre><p>ä½¿ç”¨æ—¶è¾“å…¥å¦‚ä¸‹å‘½ä»¤å³å¯ã€‚</p>
<pre tabindex="0"><code>winpty git cz
</code></pre><p>ä¸‹é¢æ˜¯æ¥çš„å®‰è£…è¿‡ç¨‹è®°å½•ï¼š</p>
<pre tabindex="0"><code>C:\Users\daizelai&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

C:\Users\daizelai&gt;npm install -g git-cz
npm ERR! code EEXIST
npm ERR! path C:\Users\daizelai\AppData\Roaming\npm\git-cz
npm ERR! EEXIST: file already exists
npm ERR! File exists: C:\Users\daizelai\AppData\Roaming\npm\git-cz
npm ERR! Remove the existing file and try again, or run npm
npm ERR! with --force to overwrite files recklessly.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\daizelai\AppData\Local\npm-cache\_logs\2023-05-11T02_46_00_443Z-debug-0.log

C:\Users\daizelai&gt;npm install -g git-cz --force
npm WARN using --force Recommended protections disabled.

added 1 package in 54s

C:\Users\daizelai&gt;git-cz
Command failed: git diff --cached --no-ext-diff --name-only
error: unknown option `cached&#39;
usage: git diff --no-index [&lt;options&gt;] &lt;path&gt; &lt;path&gt;

Diff output format options
    -p, --patch           generate patch
    -s, --no-patch        suppress diff output
    -u                    generate patch
    -U, --unified[=&lt;n&gt;]   generate diffs with &lt;n&gt; lines context
    -W, --function-context
                          generate diffs with &lt;n&gt; lines context
    --raw                 generate the diff in raw format
    --patch-with-raw      synonym for &#39;-p --raw&#39;
    --patch-with-stat     synonym for &#39;-p --stat&#39;
    --numstat             machine friendly --stat
    --shortstat           output only the last line of --stat
    -X, --dirstat[=&lt;param1,param2&gt;...]
                          output the distribution of relative amount of changes for each sub-directory
    --cumulative          synonym for --dirstat=cumulative
    --dirstat-by-file[=&lt;param1,param2&gt;...]
                          synonym for --dirstat=files,param1,param2...
    --check               warn if changes introduce conflict markers or whitespace errors
    --summary             condensed summary such as creations, renames and mode changes
    --name-only           show only names of changed files
    --name-status         show only names and status of changed files
    --stat[=&lt;width&gt;[,&lt;name-width&gt;[,&lt;count&gt;]]]
                          generate diffstat
    --stat-width &lt;width&gt;  generate diffstat with a given width
    --stat-name-width &lt;width&gt;
                          generate diffstat with a given name width
    --stat-graph-width &lt;width&gt;
                          generate diffstat with a given graph width
    --stat-count &lt;count&gt;  generate diffstat with limited lines
    --compact-summary     generate compact summary in diffstat
    --binary              output a binary diff that can be applied
    --full-index          show full pre- and post-image object names on the &#34;index&#34; lines
    --color[=&lt;when&gt;]      show colored diff
    --ws-error-highlight &lt;kind&gt;
                          highlight whitespace errors in the &#39;context&#39;, &#39;old&#39; or &#39;new&#39; lines in the diff
    -z                    do not munge pathnames and use NULs as output field terminators in --raw or --numstat
    --abbrev[=&lt;n&gt;]        use &lt;n&gt; digits to display object names
    --src-prefix &lt;prefix&gt;
                          show the given source prefix instead of &#34;a/&#34;
    --dst-prefix &lt;prefix&gt;
                          show the given destination prefix instead of &#34;b/&#34;
    --line-prefix &lt;prefix&gt;
                          prepend an additional prefix to every line of output
    --no-prefix           do not show any source or destination prefix
    --inter-hunk-context &lt;n&gt;
                          show context between diff hunks up to the specified number of lines
    --output-indicator-new &lt;char&gt;
                          specify the character to indicate a new line instead of &#39;+&#39;
    --output-indicator-old &lt;char&gt;
                          specify the character to indicate an old line instead of &#39;-&#39;
    --output-indicator-context &lt;char&gt;
                          specify the character to indicate a context instead of &#39; &#39;

Diff rename options
    -B, --break-rewrites[=&lt;n&gt;[/&lt;m&gt;]]
                          break complete rewrite changes into pairs of delete and create
    -M, --find-renames[=&lt;n&gt;]
                          detect renames
    -D, --irreversible-delete
                          omit the preimage for deletes
    -C, --find-copies[=&lt;n&gt;]
                          detect copies
    --find-copies-harder  use unmodified files as source to find copies
    --no-renames          disable rename detection
    --rename-empty        use empty blobs as rename source
    --follow              continue listing the history of a file beyond renames
    -l &lt;n&gt;                prevent rename/copy detection if the number of rename/copy targets exceeds given limit

Diff algorithm options
    --minimal             produce the smallest possible diff
    -w, --ignore-all-space
                          ignore whitespace when comparing lines
    -b, --ignore-space-change
                          ignore changes in amount of whitespace
    --ignore-space-at-eol
                          ignore changes in whitespace at EOL
    --ignore-cr-at-eol    ignore carrier-return at the end of line
    --ignore-blank-lines  ignore changes whose lines are all blank
    -I, --ignore-matching-lines &lt;regex&gt;
                          ignore changes whose all lines match &lt;regex&gt;
    --indent-heuristic    heuristic to shift diff hunk boundaries for easy reading
    --patience            generate diff using the &#34;patience diff&#34; algorithm
    --histogram           generate diff using the &#34;histogram diff&#34; algorithm
    --diff-algorithm &lt;algorithm&gt;
                          choose a diff algorithm
    --anchored &lt;text&gt;     generate diff using the &#34;anchored diff&#34; algorithm
    --word-diff[=&lt;mode&gt;]  show word diff, using &lt;mode&gt; to delimit changed words
    --word-diff-regex &lt;regex&gt;
                          use &lt;regex&gt; to decide what a word is
    --color-words[=&lt;regex&gt;]
                          equivalent to --word-diff=color --word-diff-regex=&lt;regex&gt;
    --color-moved[=&lt;mode&gt;]
                          moved lines of code are colored differently
    --color-moved-ws &lt;mode&gt;
                          how white spaces are ignored in --color-moved

Other diff options
    --relative[=&lt;prefix&gt;]
                          when run from subdir, exclude changes outside and show relative paths
    -a, --text            treat all files as text
    -R                    swap two inputs, reverse the diff
    --exit-code           exit with 1 if there were differences, 0 otherwise
    --quiet               disable all output of the program
    --ext-diff            allow an external diff helper to be executed
    --textconv            run external text conversion filters when comparing binary files
    --ignore-submodules[=&lt;when&gt;]
                          ignore changes to submodules in the diff generation
    --submodule[=&lt;format&gt;]
                          specify how differences in submodules are shown
    --ita-invisible-in-index
                          hide &#39;git add -N&#39; entries from the index
    --ita-visible-in-index
                          treat &#39;git add -N&#39; entries as real in the index
    -S &lt;string&gt;           look for differences that change the number of occurrences of the specified string
    -G &lt;regex&gt;            look for differences that change the number of occurrences of the specified regex
    --pickaxe-all         show all changes in the changeset with -S or -G
    --pickaxe-regex       treat &lt;string&gt; in -S as extended POSIX regular expression
    -O &lt;file&gt;             control the order in which files appear in the output
    --rotate-to &lt;path&gt;    show the change in the specified path first
    --skip-to &lt;path&gt;      skip the output to the specified path
    --find-object &lt;object-id&gt;
                          look for differences that change the number of occurrences of the specified object
    --diff-filter [(A|C|D|M|R|T|U|X|B)...[*]]
                          select files by diff type
    --output &lt;file&gt;       Output to a specific file



C:\Users\daizelai&gt;
</code></pre><p><img src="/images/git_cz_20230511_1103.gif"
	
	
	
	loading="lazy"
	
		alt="ä½¿ç”¨è®°å½•"
	
	
></p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ date
Thu May 11 11:02:11     2023

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git status
On branch master
Your branch is up to date with &#39;origin/master&#39;.

Changes to be committed:
  (use &#34;git restore --staged &lt;file&gt;...&#34; to unstage)
        modified:   zte/app/build.gradle


daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ winpty git cz
? Select the type of change that you&#39;re committing: ï¿½  fix:        A bug fix
? Write a short, imperative mood description of the change:
  [-------------------------------------------------------------] 56 chars left
   fix: ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG
? Provide a longer description of the change:
  é€šè¿‡ä¿®æ”¹é€šè¯ä»£ç ï¼Œä¿®å¤äº†ç»„å‘¼é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUGã€‚
? List any breaking changes
  BREAKING CHANGE:
? Issues this commit closes, e.g #123: #110
[master 9963cd1] fix: ï¿½ ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG
 1 file changed, 1 insertion(+), 1 deletion(-)

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git status
On branch master
Your branch is ahead of &#39;origin/master&#39; by 1 commit.
  (use &#34;git push&#34; to publish your local commits)

nothing to commit, working tree clean

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git log -n 1
commit 9963cd10bfb62826384c22d6d9ec580ee5edb05c (HEAD -&gt; master)
Author: daizelai &lt;daizelai@gbcom.com.cn&gt;
Date:   Thu May 11 11:02:50 2023 +0800

    fix: ğŸ› ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG

    é€šè¿‡ä¿®æ”¹é€šè¯ä»£ç ï¼Œä¿®å¤äº†ç»„å‘¼é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUGã€‚

    âœ… Closes: #110

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git reflog -n 1
9963cd1 (HEAD -&gt; master) HEAD@{0}: commit: fix: ğŸ› ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$
</code></pre><h3 id="å®‰è£…å¯è‡ªå®šä¹‰çš„czé€‚é…å™¨-1">å®‰è£…å¯è‡ªå®šä¹‰çš„czé€‚é…å™¨</h3>
<p>å› ä¸ºcommitizenåªæ”¯æŒè‹±æ–‡ï¼Œå¦‚æœæˆ‘æƒ³è¦æ”¯æŒä¸­æ–‡æŒ‡ä»¤å’Œemojiï¼Œé‚£ä¹ˆå°±å¿…é¡»å®‰è£…å¯è‡ªå®šä¹‰çš„czé€‚é…å™¨äº†</p>
<pre tabindex="0"><code>npm i -D commitlint-config-cz  cz-customizable commitlint-config-git-commit-emoji
</code></pre><p>æ¥åæ¥åˆå®‰è£…äº†ã€‚</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/12 å‘¨äº”
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;npm i -D commitlint-config-cz  cz-customizable

added 52 packages, and audited 254 packages in 10s

30 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 10:42:30.03
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º.cz-config.jsæ–‡ä»¶</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">echo &gt; .cz-config.js
</code></pre><p>é…ç½®.cz-config.jsæ–‡ä»¶å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">module.exports</span> <span style="color:#960050;background-color:#1e0010">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">types:</span> <span style="color:#960050;background-color:#1e0010">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:sparkles:</span> <span style="color:#960050;background-color:#1e0010">feat&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âœ¨</span> <span style="color:#960050;background-color:#1e0010">feat:</span>     <span style="color:#960050;background-color:#1e0010">æ–°åŠŸèƒ½&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:bug:</span> <span style="color:#960050;background-color:#1e0010">fix&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ›</span> <span style="color:#960050;background-color:#1e0010">fix:</span>      <span style="color:#960050;background-color:#1e0010">ä¿®å¤bug&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:package:</span> <span style="color:#960050;background-color:#1e0010">build&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ“¦ï¸</span> <span style="color:#960050;background-color:#1e0010">build:</span>    <span style="color:#960050;background-color:#1e0010">æ‰“åŒ…&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:zap:</span> <span style="color:#960050;background-color:#1e0010">perf&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âš¡ï¸</span> <span style="color:#960050;background-color:#1e0010">perf:</span>     <span style="color:#960050;background-color:#1e0010">æ€§èƒ½ä¼˜åŒ–&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:tada:</span> <span style="color:#960050;background-color:#1e0010">release&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ‰</span> <span style="color:#960050;background-color:#1e0010">release:</span>  <span style="color:#960050;background-color:#1e0010">å‘å¸ƒæ­£å¼ç‰ˆ&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:lipstick:</span> <span style="color:#960050;background-color:#1e0010">style&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ’„</span> <span style="color:#960050;background-color:#1e0010">style:</span>    <span style="color:#960050;background-color:#1e0010">ä»£ç çš„æ ·å¼ç¾åŒ–&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:recycle:</span> <span style="color:#960050;background-color:#1e0010">refactor&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;â™»ï¸</span>  <span style="color:#960050;background-color:#1e0010">refactor:</span> <span style="color:#960050;background-color:#1e0010">é‡æ„&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:pencil2:</span> <span style="color:#960050;background-color:#1e0010">docs&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âœï¸</span>  <span style="color:#960050;background-color:#1e0010">docs:</span>     <span style="color:#960050;background-color:#1e0010">æ–‡æ¡£å˜æ›´&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:white_check_mark:</span> <span style="color:#960050;background-color:#1e0010">test&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âœ…</span> <span style="color:#960050;background-color:#1e0010">test:</span>     <span style="color:#960050;background-color:#1e0010">æµ‹è¯•&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:rewind:</span> <span style="color:#960050;background-color:#1e0010">revert&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;âªï¸</span> <span style="color:#960050;background-color:#1e0010">revert:</span>   <span style="color:#960050;background-color:#1e0010">å›é€€&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:rocket:</span> <span style="color:#960050;background-color:#1e0010">chore&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸš€</span> <span style="color:#960050;background-color:#1e0010">chore:</span>    <span style="color:#960050;background-color:#1e0010">æ„å»º/å·¥ç¨‹ä¾èµ–/å·¥å…·&#39;</span>
</span></span><span style="display:flex;"><span>    }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">value:</span> <span style="color:#960050;background-color:#1e0010">&#39;:construction_worker:</span> <span style="color:#960050;background-color:#1e0010">ci&#39;,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#960050;background-color:#1e0010">name:</span> <span style="color:#960050;background-color:#1e0010">&#39;ğŸ‘·</span> <span style="color:#960050;background-color:#1e0010">ci:</span>       <span style="color:#960050;background-color:#1e0010">CI</span> <span style="color:#960050;background-color:#1e0010">related</span> <span style="color:#960050;background-color:#1e0010">changes&#39;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">messages:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">type:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·é€‰æ‹©æäº¤ç±»å‹(å¿…å¡«)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">customScope:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·è¾“å…¥æ–‡ä»¶ä¿®æ”¹èŒƒå›´(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">subject:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">body:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·è¾“å…¥è¯¦ç»†æè¿°(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">breaking:</span> <span style="color:#960050;background-color:#1e0010">&#39;åˆ—å‡ºä»»ä½•BREAKING</span> <span style="color:#960050;background-color:#1e0010">CHANGES(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">footer:</span> <span style="color:#960050;background-color:#1e0010">&#39;è¯·è¾“å…¥è¦å…³é—­çš„issue(å¯é€‰)&#39;,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#960050;background-color:#1e0010">confirmCommit:</span> <span style="color:#960050;background-color:#1e0010">&#39;ç¡®å®šæäº¤æ­¤è¯´æ˜å—ï¼Ÿ&#39;</span>
</span></span><span style="display:flex;"><span>  }<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">allowCustomScopes:</span> <span style="color:#66d9ef">true</span><span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// è·³è¿‡é—®é¢˜
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#960050;background-color:#1e0010">skipQuestions:</span> [<span style="color:#960050;background-color:#1e0010">&#39;body&#39;</span>, <span style="color:#960050;background-color:#1e0010">&#39;footer&#39;</span>]<span style="color:#960050;background-color:#1e0010">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">subjectLimit:</span> <span style="color:#ae81ff">72</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">}</span>
</span></span></code></pre></div><p>å°†cz-customizableè„šæœ¬æ·»åŠ åˆ°æ‚¨çš„ package.json</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">//#npm set-script commit &#34;git add . &amp;&amp; cz-customizable&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;@commitlint/cli&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;@commitlint/config-conventional&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;commitlint-config-cz&#34;</span>: <span style="color:#e6db74">&#34;^0.13.3&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;commitlint-config-git-commit-emoji&#34;</span>: <span style="color:#e6db74">&#34;^1.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;cz-customizable&#34;</span>: <span style="color:#e6db74">&#34;^7.0.0&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^7.0.1&#34;</span>
</span></span><span style="display:flex;"><span>	},
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;changelog&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s&#34;</span>,
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&#34;changelogs&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>		<span style="color:#f92672">&#34;commit&#34;</span>: <span style="color:#e6db74">&#34;cz-customizable&#34;</span>
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ä¸Šé¢å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œè¾“å…¥<code>npm run commit</code>äº†ã€‚
å®‰è£…emojiæ’ä»¶ï¼Œæ¥å®é™…ä½¿ç”¨ä¸­ä¸­æ–‡çš„è¡¨æƒ…æ˜¾ç¤ºéƒ½æ˜¯ä¹±ç ï¼Œä½¿ç”¨notepad++ä¿®æ”¹<code>.cz-config.js</code>æ–‡ä»¶é‡Œçš„å†…å®¹æ ¼å¼ä¸ºUTF8æ— BOMå°±å¯ä»¥äº†ã€‚å¦‚æœå‘ç°ä¸­æ–‡æ˜¾ç¤ºæ­£å¸¸ï¼Œä½†è¡¨æƒ…æ˜¯ä¹±ç ï¼Œè¯·æ³¨æ„ä¸€ä¸‹.cz-config.jsæ–‡ä»¶å†…å®¹ä¸­çš„è¡¨æƒ…æ˜¯å¦å°±æ˜¯ä¹±ç ï¼Œåªè¦åœ¨.cz-config.jsæ–‡ä»¶ä¸ºUTF8çš„æ ¼å¼ä¸‹é‡æ–°æ‹·è´ä¸Šé¢çš„jsonå†…å®¹åˆ°.cz-config.jsæ–‡ä»¶ä¸­å°±å¯ä»¥äº†ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">D:\code\gbcom_gitlab\SH_JC_Android&gt;npm i -D  commitlint-config-git-commit-emoji

added 1 package, and audited 255 packages in 1s

30 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

D:\code\gbcom_gitlab\SH_JC_Android&gt;
D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/12 å‘¨äº”
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 10:57:56.93
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>ä¸‹é¢æ˜¯å®‰è£…åçš„ä½¿ç”¨ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">PS D:\code\gbcom_gitlab\SH_JC_Android&gt; date

2023å¹´5æœˆ12æ—¥ 11:19:16


PS D:\code\gbcom_gitlab\SH_JC_Android&gt;
PS D:\code\gbcom_gitlab\SH_JC_Android&gt; npm run commit

&gt; cz-customizable

cz-customizable standalone version
All lines except first will be wrapped after 100 characters.
? è¯·é€‰æ‹©æäº¤ç±»å‹(å¿…å¡«) (Use arrow keys)
&gt; âœ¨ feat:     æ–°åŠŸèƒ½
  ğŸ› fix:      ä¿®å¤bug
  ğŸ“¦ï¸ build:    æ‰“åŒ…
  âš¡ï¸ perf:     æ€§èƒ½ä¼˜åŒ–
  ğŸ‰ release:  å‘å¸ƒæ­£å¼ç‰ˆ
  ğŸ’„ style:    ä»£ç çš„æ ·å¼ç¾åŒ–
  â™»ï¸  refactor: é‡æ„
(Move up and down to reveal more choices)
PS D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><h3 id="å…³äºchagelog">å…³äºchagelog</h3>
<p>changelogä½¿ç”¨ï¼Œåœ¨é¡¹ç›®ç¬¬ä¸€å±‚ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre tabindex="0"><code>#è¿½åŠ 
conventional-changelog -p angular -i CHANGELOG.md -s
#å…¨é‡ç”Ÿæˆ
conventional-changelog -p angular -i CHANGELOG.md -s -r 0
</code></pre><ul>
<li>-p æŒ‡å®šé£æ ¼*</li>
<li>-i CHANGELOG.md æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶åç§°</li>
<li>-s è¾“å‡ºåˆ°infileï¼Œè¿™æ ·å°±ä¸éœ€è¦æŒ‡å®šä¸outfileç›¸åŒçš„æ–‡ä»¶</li>
<li>-r ä»æœ€æ–°çš„ç‰ˆæœ¬ç”Ÿæˆå¤šå°‘ä¸ªç‰ˆæœ¬ã€‚å¦‚æœä¸º0ï¼Œåˆ™æ•´ä¸ªæ›´æ”¹æ—¥å¿—å°†è¢«é‡æ–°ç”Ÿæˆï¼Œè¾“å‡ºæ–‡ä»¶å°†è¢«è¦†ç›–ã€‚é»˜è®¤å€¼:1</li>
<li>-n ./changelog-option.js æŒ‡å®šè‡ªå®šä¹‰é…ç½®</li>
</ul>
<p>æˆåŠŸåå°†åœ¨é¡¹ç›®ç”Ÿæˆ CHANGELOG.md æ–‡ä»¶ï¼Œåœ¨git labä¸Šå³å¯ç›´è§‚çš„å±•ç¤ºgitçš„æäº¤è®°å½•ã€‚</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">D:\code\gbcom_gitlab\SH_JC_Android&gt;conventional-changelog -p angular -i CHANGELOG.md -s
&#39;conventional-changelog&#39; ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤ï¼Œä¹Ÿä¸æ˜¯å¯è¿è¡Œçš„ç¨‹åº
æˆ–æ‰¹å¤„ç†æ–‡ä»¶ã€‚

D:\code\gbcom_gitlab\SH_JC_Android&gt;
D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 13:51:19.65
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;npm install -g conventional-changelog-cli
npm WARN deprecated uuid@3.4.0: Please upgrade  to version 7 or higher.  Older versions may use Math.random() in certain circumstances, which is known to be problematic.  See https://v8.dev/blog/math-random for details.

added 168 packages in 14m

15 packages are looking for funding
  run `npm fund` for details

D:\code\gbcom_gitlab\SH_JC_Android&gt;
D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 14:05:51.15
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;conventional-changelog -p angular -i CHANGELOG.md -s

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>ä¸‹é¢æ˜¯ç”Ÿæˆçš„changelogæ–‡ä»¶å†…å®¹ï¼š</p>
<pre tabindex="0"><code>#  (2023-05-11)


### Bug Fixes

* ğŸ› ä¿®å¤äº†é€šè¯æ—¶æ²¡æœ‰å£°éŸ³çš„BUG ([972ecce](https://gitlab.gbcom.com.cn/metro-system/sh_jc/commit/972ecce6e508a62d5c8ecbc0000ab04838b7250f)), closes [#110](https://gitlab.gbcom.com.cn/metro-system/sh_jc/issues/110)
</code></pre><blockquote>
<p>é›†æˆå‘½ä»¤</p>
</blockquote>
<p>è·¯å¾„ï¼šD:\code\gbcom_gitlab\SH_JC_Android\package.json</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;@commitlint/cli&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;@commitlint/config-conventional&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^7.0.1&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>	<span style="color:#f92672">&#34;changelog&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>	<span style="color:#f92672">&#34;changelogs&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lint-staged&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;src/**/*.{js,vue}&#34;</span>: [
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;eslint --fix&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;git add&#34;</span>
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>åœ¨å‘½ä»¤è¡Œå°±å¯ä»¥æ‰§è¡Œå‘½ä»¤äº†</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">D:\code\gbcom_gitlab\SH_JC_Android&gt;npm run changelog

&gt; changelog
&gt; conventional-changelog -p angular -i CHANGELOG.md -s


D:\code\gbcom_gitlab\SH_JC_Android&gt;npm run changelogs

&gt; changelogs
&gt; conventional-changelog -p angular -i CHANGELOG.md -s -r 0


D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><blockquote>
<p>æŸ¥çœ‹å·¥å…·å®‰è£…æƒ…å†µ</p>
</blockquote>
<pre tabindex="0"><code class="language-dos" data-lang="dos">D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 14:26:22.09
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;
D:\code\gbcom_gitlab\SH_JC_Android&gt;npm ls -g -depth=0
C:\Users\daizelai\AppData\Roaming\npm
+-- commitizen@4.3.0
+-- conventional-changelog-cli@2.2.2
+-- conventional-changelog@3.1.25
+-- cz-conventional-changelog@3.3.0
`-- git-cz@4.9.0


D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><h2 id="æäº¤è§„èŒƒæ ¡éªŒ">æäº¤è§„èŒƒæ ¡éªŒ</h2>
<h3 id="æè¿°">æè¿°</h3>
<p>ç¨‹åºå‘˜å¦‚æœå¿˜è®°æ‰§è¡Œ<code>git cz</code>å‘½ä»¤æ€ä¹ˆåŠï¼Ÿ</p>
<ul>
<li><a class="link" href="https://www.conventionalcommits.org/zh-hans/v1.0.0/"  target="_blank" rel="noopener"
    >çº¦å®šå¼æäº¤è§„èŒƒ</a></li>
<li><a class="link" href="https://github.com/commitizen/cz-cli"  target="_blank" rel="noopener"
    >commitizen</a>ï¼šgit æäº¤è§„èŒƒåŒ–å·¥å…·</li>
<li><a class="link" href="https://github.com/conventional-changelog/commitlint"  target="_blank" rel="noopener"
    >commitlint</a>ï¼šç”¨äºæ£€æŸ¥æäº¤ä¿¡æ¯</li>
<li>pre-commitï¼š git hooks é’©å­</li>
<li>lint-stagedï¼šåªæ£€æŸ¥æœ¬æ¬¡ä¿®æ”¹æ›´æ–°çš„ä»£ç ï¼Œå¹¶åœ¨å‡ºç°é”™è¯¯çš„æ—¶å€™ï¼Œè‡ªåŠ¨ä¿®å¤å¹¶ä¸”æ¨é€</li>
</ul>
<p>ä½¿ç”¨ husky + commitlint æ£€æŸ¥æäº¤æè¿°æ˜¯å¦ç¬¦åˆè§„èŒƒè¦æ±‚</p>
<ul>
<li>commitlintï¼šç”¨äºæ£€æŸ¥æäº¤ä¿¡æ¯</li>
<li>huskyï¼šæ˜¯git hookså·¥å…·</li>
</ul>
<p>æ³¨æ„ï¼šnpm éœ€è¦åœ¨ 7.x ä»¥ä¸Šç‰ˆæœ¬ï¼ï¼ï¼ï¼ï¼</p>
<blockquote>
<p>å®‰è£…commitlint</p>
</blockquote>
<p>1ã€npm install &ndash;save-dev @commitlint/config-conventional@12.1.4 @commitlint/cli@12.1.4
2ã€åˆ›å»º commitlint.config.js æ–‡ä»¶</p>
<blockquote>
<p>è¯´æ˜</p>
</blockquote>
<ul>
<li>@commitlint/cli: commitlint çš„ CLI å·¥å…·</li>
<li>@commitlint/config-conventional: commitlint çš„ conventional è§„èŒƒé…ç½®æ–¹æ¡ˆï¼Œè¿™æ˜¯ä¸€ä¸ªä» config-angular è¡ç”Ÿå‡ºçš„ä¸€ä¸ªåˆ†æ”¯</li>
<li>husky: ä¸€æ¬¾ git hook å·¥å…·ï¼Œå¯ä»¥ hook git çš„å‘½ä»¤</li>
</ul>
<h3 id="å®‰è£…æ ¡éªŒå·¥å…·">å®‰è£…æ ¡éªŒå·¥å…·</h3>
<p>æ ¡éªŒæäº¤è¯´æ˜æ˜¯å¦ç¬¦åˆè§„èŒƒï¼Œå®‰è£…æ ¡éªŒå·¥å…·<code>commitlint</code>ã€‚
å®‰è£…ç¬¦åˆAngularé£æ ¼çš„æ ¡éªŒè§„åˆ™<code>@commitlint/config-conventional</code>ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">#å®‰è£…
npm install --save-dev @commitlint/config-conventional @commitlint/cli
#æ·»åŠ è§„èŒƒ
echo &#34;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]};&#34; &gt; commitlint.config.js
</code></pre><p>ä¸‹é¢æ˜¯å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ï¼š</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 15:27:31.51
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;npm install --save-dev @commitlint/config-conventional @commitlint/cli

added 200 packages in 11m

28 packages are looking for funding
  run `npm fund` for details

D:\code\gbcom_gitlab\SH_JC_Android&gt;
D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 15:40:22.36
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>åœ¨é¡¹ç›®ä¸­æ–°å»ºcommitlint.config.jsæ–‡ä»¶å¹¶è®¾ç½®æ ¡éªŒè§„åˆ™ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">D:\code\gbcom_gitlab\SH_JC_Android&gt;dir
 é©±åŠ¨å™¨ D ä¸­çš„å·æ˜¯ æ–°åŠ å·
 å·çš„åºåˆ—å·æ˜¯ 8AC9-706C

 D:\code\gbcom_gitlab\SH_JC_Android çš„ç›®å½•

2023/05/11  15:38    &lt;DIR&gt;          .
2023/05/11  15:38    &lt;DIR&gt;          ..
2022/11/04  18:43               247 .gitignore
2023/05/08  18:57    &lt;DIR&gt;          .gitlab
2023/05/11  14:24               262 CHANGELOG.md
2023/05/09  10:35    &lt;DIR&gt;          doc
2023/05/11  15:38    &lt;DIR&gt;          node_modules
2023/05/11  15:38            81,136 package-lock.json
2023/05/11  15:38               114 package.json
2023/05/08  19:07               129 README.md
2023/05/09  10:21    &lt;DIR&gt;          td
2023/05/09  09:25    &lt;DIR&gt;          zte
               5 ä¸ªæ–‡ä»¶         81,888 å­—èŠ‚
               7 ä¸ªç›®å½• 42,581,184,512 å¯ç”¨å­—èŠ‚

D:\code\gbcom_gitlab\SH_JC_Android&gt;echo &#34;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]};&#34; &gt; commitlint.config.js

D:\code\gbcom_gitlab\SH_JC_Android&gt;dir
 é©±åŠ¨å™¨ D ä¸­çš„å·æ˜¯ æ–°åŠ å·
 å·çš„åºåˆ—å·æ˜¯ 8AC9-706C

 D:\code\gbcom_gitlab\SH_JC_Android çš„ç›®å½•

2023/05/11  15:44    &lt;DIR&gt;          .
2023/05/11  15:44    &lt;DIR&gt;          ..
2022/11/04  18:43               247 .gitignore
2023/05/08  18:57    &lt;DIR&gt;          .gitlab
2023/05/11  14:24               262 CHANGELOG.md
2023/05/11  15:44                69 commitlint.config.js
2023/05/09  10:35    &lt;DIR&gt;          doc
2023/05/11  15:38    &lt;DIR&gt;          node_modules
2023/05/11  15:38            81,136 package-lock.json
2023/05/11  15:38               114 package.json
2023/05/08  19:07               129 README.md
2023/05/09  10:21    &lt;DIR&gt;          td
2023/05/09  09:25    &lt;DIR&gt;          zte
               6 ä¸ªæ–‡ä»¶         81,957 å­—èŠ‚
               7 ä¸ªç›®å½• 42,581,118,976 å¯ç”¨å­—èŠ‚

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span><span style="color:#f92672">=</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">extends</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;@commitlint/config-conventional&#39;</span>]
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>æ³¨æ„ï¼šç¡®ä¿ä¿å­˜ä¸º UTF-8 çš„ç¼–ç æ ¼å¼ï¼Œå¦åˆ™å¯èƒ½æŠ¥é”™</p>
<h3 id="å®‰è£…husky">å®‰è£…husky</h3>
<h4 id="å®‰è£…ä¾èµ–">å®‰è£…ä¾èµ–</h4>
<pre tabindex="0"><code>D:\code\gbcom_gitlab\SH_JC_Android&gt;date
å½“å‰æ—¥æœŸ: 2023/05/11 å‘¨å››
è¾“å…¥æ–°æ—¥æœŸ: (å¹´æœˆæ—¥)

D:\code\gbcom_gitlab\SH_JC_Android&gt;time
å½“å‰æ—¶é—´: 15:53:35.59
è¾“å…¥æ–°æ—¶é—´:

D:\code\gbcom_gitlab\SH_JC_Android&gt;npm install husky@7.0.1 --save-dev

added 1 package, and audited 202 packages in 4s

29 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><h4 id="å¯åŠ¨hooks">å¯åŠ¨hooks</h4>
<p>å¯åŠ¨hooksï¼Œç”Ÿæˆ .husky æ–‡ä»¶å¤¹</p>
<pre tabindex="0"><code>D:\code\gbcom_gitlab\SH_JC_Android&gt;dir
 é©±åŠ¨å™¨ D ä¸­çš„å·æ˜¯ æ–°åŠ å·
 å·çš„åºåˆ—å·æ˜¯ 8AC9-706C

 D:\code\gbcom_gitlab\SH_JC_Android çš„ç›®å½•

2023/05/11  15:44    &lt;DIR&gt;          .
2023/05/11  15:44    &lt;DIR&gt;          ..
2022/11/04  18:43               247 .gitignore
2023/05/08  18:57    &lt;DIR&gt;          .gitlab
2023/05/11  14:24               262 CHANGELOG.md
2023/05/11  15:44                69 commitlint.config.js
2023/05/09  10:35    &lt;DIR&gt;          doc
2023/05/11  15:53    &lt;DIR&gt;          node_modules
2023/05/11  15:53            81,619 package-lock.json
2023/05/11  15:53               137 package.json
2023/05/08  19:07               129 README.md
2023/05/09  10:21    &lt;DIR&gt;          td
2023/05/09  09:25    &lt;DIR&gt;          zte
               6 ä¸ªæ–‡ä»¶         82,463 å­—èŠ‚
               7 ä¸ªç›®å½• 42,580,422,656 å¯ç”¨å­—èŠ‚

D:\code\gbcom_gitlab\SH_JC_Android&gt;npx husky install
husky - Git hooks installed

D:\code\gbcom_gitlab\SH_JC_Android&gt;dir
 é©±åŠ¨å™¨ D ä¸­çš„å·æ˜¯ æ–°åŠ å·
 å·çš„åºåˆ—å·æ˜¯ 8AC9-706C

 D:\code\gbcom_gitlab\SH_JC_Android çš„ç›®å½•

2023/05/11  15:55    &lt;DIR&gt;          .
2023/05/11  15:55    &lt;DIR&gt;          ..
2022/11/04  18:43               247 .gitignore
2023/05/08  18:57    &lt;DIR&gt;          .gitlab
2023/05/11  15:55    &lt;DIR&gt;          .husky
2023/05/11  14:24               262 CHANGELOG.md
2023/05/11  15:44                69 commitlint.config.js
2023/05/09  10:35    &lt;DIR&gt;          doc
2023/05/11  15:53    &lt;DIR&gt;          node_modules
2023/05/11  15:53            81,619 package-lock.json
2023/05/11  15:53               137 package.json
2023/05/08  19:07               129 README.md
2023/05/09  10:21    &lt;DIR&gt;          td
2023/05/09  09:25    &lt;DIR&gt;          zte
               6 ä¸ªæ–‡ä»¶         82,463 å­—èŠ‚
               8 ä¸ªç›®å½• 42,580,422,656 å¯ç”¨å­—èŠ‚

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><h4 id="ç”ŸæˆprepareæŒ‡ä»¤">ç”ŸæˆprepareæŒ‡ä»¤</h4>
<p>åœ¨<code>package.json</code>ä¸­ç”Ÿæˆ<code>prepare</code>æŒ‡ä»¤ï¼ˆéœ€è¦ npm &gt; 7.0 ç‰ˆæœ¬ ï¼‰ï¼Œè¿™é‡Œä¸€ç›´å¤±è´¥ï¼Œä¸€ç›´å¤±è´¥ï¼Œä¸€ç›´å¤±è´¥ã€‚</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">D:\code\gbcom_gitlab\SH_JC_Android&gt;npm set-script prepare &#34;husky install&#34;
Unknown command: &#34;set-script&#34;

Did you mean this?
    npm run-script # Run arbitrary package scripts

To see a list of supported npm commands, run:
  npm help

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>è¿™é‡Œç›´æ¥åœ¨jsonæ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹ä¹Ÿå¯ä»¥ã€‚
è·¯å¾„ï¼šD:\code\gbcom_gitlab\SH_JC_Android\package.json</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;@commitlint/cli&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;@commitlint/config-conventional&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^7.0.1&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>    <span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>package.json</code>å°±æ·»åŠ äº†ä¸€è¡Œ<code>&quot;husky&quot;: &quot;^7.0.1&quot;</code>ã€‚</p>
<pre tabindex="0"><code>{
  &#34;devDependencies&#34;: {
    &#34;@commitlint/cli&#34;: &#34;^17.6.3&#34;,
    &#34;@commitlint/config-conventional&#34;: &#34;^17.6.3&#34;,
    &#34;husky&#34;: &#34;^7.0.1&#34;
  }
}
</code></pre><p>æ‰§è¡Œ prepare æŒ‡ä»¤</p>
<pre tabindex="0"><code>D:\code\gbcom_gitlab\SH_JC_Android&gt;npm run prepare
npm ERR! Missing script: &#34;prepare&#34;
npm ERR!
npm ERR! To see a list of scripts, run:
npm ERR!   npm run

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\daizelai\AppData\Local\npm-cache\_logs\2023-05-11T08_09_04_751Z-debug-0.log

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>2023/05/11 16:51æ‰‹åŠ¨åœ¨pä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre tabindex="0"><code>{
  &#34;devDependencies&#34;: {
    &#34;@commitlint/cli&#34;: &#34;^17.6.3&#34;,
    &#34;@commitlint/config-conventional&#34;: &#34;^17.6.3&#34;,
    &#34;husky&#34;: &#34;^7.0.1&#34;
  },
+  &#34;scripts&#34;: {
+    &#34;prepare&#34;: &#34;husky install&#34;
+  }
}
</code></pre><p>å†æ‰§è¡Œ<code>npm run prepare</code>å‘½ä»¤ã€‚</p>
<pre tabindex="0"><code>PS D:\code\gbcom_gitlab\SH_JC_Android&gt; npm run prepare

&gt; prepare
&gt; echo &#34;åœ¨npm iä¹‹å‰ä¼šè‡ªåŠ¨æ‰§è¡Œ&#34;

&#34;åœ¨npm iä¹‹å‰ä¼šè‡ªåŠ¨æ‰§è¡Œ&#34;
PS D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><h4 id="æ·»åŠ commitlintçš„hookåˆ°huskyä¸­">æ·»åŠ commitlintçš„hookåˆ°huskyä¸­</h4>
<p>æ·»åŠ  commitlint çš„ hook åˆ° huskyä¸­ï¼Œå¹¶æŒ‡ä»¤åœ¨ commit-msg çš„ hooks ä¸‹æ‰§è¡Œ npx &ndash;no-install commitlint &ndash;edit &ldquo;$1&rdquo; æŒ‡ä»¤</p>
<p>ä¸‹é¢æ˜¯åœ¨cmdå‘½ä»¤è¡Œæ‰§è¡Œï¼Œæ²¡æœ‰æˆåŠŸã€‚</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">D:\code\gbcom_gitlab\SH_JC_Android&gt;npx husky add .husky/commit-msg &#39;npx --no-install commitlint --edit &#34;$1&#34;&#39;
Usage:
  husky install [dir] (default: .husky)
  husky uninstall
  husky set|add &lt;file&gt; [cmd]

D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>ä¸‹é¢æ˜¯åœ¨ä»¥ç®¡ç†å‘˜æƒé™æ‰“å¼€çš„Windows PowerShellä¸­æ‰§è¡ŒæˆåŠŸçš„ã€‚</p>
<pre tabindex="0"><code>PS D:\code\gbcom_gitlab\SH_JC_Android&gt; npx husky add .husky/commit-msg &#39;npx --no-install commitlint --edit &#34;$1&#34;&#39;
husky - created .husky/commit-msg
PS D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><h4 id="æ–‡ä»¶ç»“æ„">æ–‡ä»¶ç»“æ„</h4>
<p>ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>PS D:\code\gbcom_gitlab\SH_JC_Android&gt; dir .husky


    ç›®å½•: D:\code\gbcom_gitlab\SH_JC_Android\.husky


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----         2023/5/11     15:55                _
-a----         2023/5/11     16:15             80 commit-msg


PS D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>commit-msgæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>#!/bin/sh
. &#34;$(dirname &#34;$0&#34;)/_/husky.sh&#34;

npx --no-install commitlint --edit $1
</code></pre><p>æ­¤æ—¶ï¼Œä¸ç¬¦åˆè§„èŒƒçš„commitäº¤ä¸å†å¯æäº¤</p>
<h4 id="æµ‹è¯•æäº¤">æµ‹è¯•æäº¤</h4>
<pre tabindex="0"><code class="language-linux" data-lang="linux">daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git status
On branch master
Your branch is up to date with &#39;origin/master&#39;.

Changes to be committed:
  (use &#34;git restore --staged &lt;file&gt;...&#34; to unstage)
        modified:   zte/app/build.gradle

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
        .husky/
        CHANGELOG.md
        commitlint.config.js
        node_modules/
        package-lock.json
        package.json


daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git commit -m &#34;aa&#34;
â§—   input: aa
âœ–   Please add rules to your `commitlint.config.js`
    - Getting started guide: https://commitlint.js.org/#/?id=getting-started
    - Example config: https://github.com/conventional-changelog/commitlint/blob/master/%40commitlint/config-conventional/index.js [empty-rules]

âœ–   found 1 problems, 0 warnings
â“˜   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint

husky - commit-msg hook exited with code 1 (error)

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ git status
On branch master
Your branch is up to date with &#39;origin/master&#39;.

Changes to be committed:
  (use &#34;git restore --staged &lt;file&gt;...&#34; to unstage)
        modified:   zte/app/build.gradle

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
        .husky/
        CHANGELOG.md
        commitlint.config.js
        node_modules/
        package-lock.json
        package.json


daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$ date
Thu May 11 16:19:28     2023

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SH_JC_Android (master)
$
</code></pre><h3 id="é€šè¿‡-pre-commit-æ£€æµ‹æäº¤æ—¶ä»£ç è§„èŒƒ">é€šè¿‡ pre-commit æ£€æµ‹æäº¤æ—¶ä»£ç è§„èŒƒ</h3>
<h4 id="æè¿°-1">æè¿°</h4>
<p>é€šè¿‡ husky ç›‘æµ‹ pre-commit é’©å­ï¼Œåœ¨è¯¥é’©å­ä¸‹æ‰§è¡Œ npx eslint &ndash;ext .js,.vue src æŒ‡ä»¤æ¥å»è¿›è¡Œç›¸å…³æ£€æµ‹</p>
<h4 id="é…ç½®pre-commit">é…ç½®pre-commit</h4>
<p>æ‰§è¡Œ npx husky add .husky/pre-commit &ldquo;npx eslint &ndash;ext .js,.vue src&rdquo; æ·»åŠ  commit æ—¶çš„ hook ï¼ˆnpx eslint &ndash;ext .js,.vue src ä¼šåœ¨æ‰§è¡Œåˆ°è¯¥ hook æ—¶è¿è¡Œï¼‰</p>
<pre tabindex="0"><code>npx husky add .husky/pre-commit &#34;npx eslint --ext .js,.vue src&#34;
</code></pre><p>æ¥åœ¨ã€ç®¡ç†å‘˜ï¼šWindows PowerShellã€‘çš„æ‰§è¡Œå‘½ä»¤è®°å½•å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>PS D:\code\gbcom_gitlab\SH_JC_Android&gt; date

2023å¹´5æœˆ11æ—¥ 18:51:56


PS D:\code\gbcom_gitlab\SH_JC_Android&gt; npx husky add .husky/pre-commit &#34;npx eslint --ext .js,.vue src&#34;
husky - created .husky/pre-commit
PS D:\code\gbcom_gitlab\SH_JC_Android&gt;
</code></pre><p>è¯¥æ“ä½œä¼šç”Ÿæˆå¯¹åº”æ–‡ä»¶ pre-commitï¼š</p>
<pre tabindex="0"><code>D:\code\gbcom_gitlab\SH_JC_Android\.husky&gt;dir
 é©±åŠ¨å™¨ D ä¸­çš„å·æ˜¯ æ–°åŠ å·
 å·çš„åºåˆ—å·æ˜¯ 8AC9-706C

 D:\code\gbcom_gitlab\SH_JC_Android\.husky çš„ç›®å½•

2023/05/11  18:52    &lt;DIR&gt;          .
2023/05/11  18:52    &lt;DIR&gt;          ..
2023/05/11  16:15                80 commit-msg
2023/05/11  18:52                72 pre-commit
2023/05/11  15:55    &lt;DIR&gt;          _
               2 ä¸ªæ–‡ä»¶            152 å­—èŠ‚
               3 ä¸ªç›®å½• 42,560,450,560 å¯ç”¨å­—èŠ‚

D:\code\gbcom_gitlab\SH_JC_Android\.husky&gt;
</code></pre><p><code>pre-commit</code>çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre tabindex="0"><code>#!/bin/sh
. &#34;$(dirname &#34;$0&#34;)/_/husky.sh&#34;

npx eslint --ext .js,.vue src
</code></pre><h3 id="lint-staged-è‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯">lint-staged è‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯</h3>
<h4 id="æè¿°-2">æè¿°</h4>
<ul>
<li>lint-staged å¯ä»¥è®©ä½ å½“å‰çš„ä»£ç æ£€æŸ¥ åªæ£€æŸ¥æœ¬æ¬¡ä¿®æ”¹æ›´æ–°çš„ä»£ç ï¼Œå¹¶åœ¨å‡ºç°é”™è¯¯çš„æ—¶å€™ï¼Œè‡ªåŠ¨ä¿®å¤å¹¶ä¸”æ¨é€</li>
<li>lint-staged æ— éœ€å•ç‹¬å®‰è£…ï¼Œæˆ‘ä»¬ç”Ÿæˆé¡¹ç›®æ—¶ï¼Œvue-cli å·²ç»å¸®åŠ©æˆ‘ä»¬å®‰è£…è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†</li>
</ul>
<h4 id="ä¿®æ”¹-packagejson-é…ç½®">ä¿®æ”¹ package.json é…ç½®</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;@commitlint/cli&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;@commitlint/config-conventional&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^7.0.1&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>  <span style="color:#f92672">&#34;lint-staged&#34;</span>: {
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>    <span style="color:#f92672">&#34;src/**/*.{js,vue}&#34;</span>: [
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>      <span style="color:#e6db74">&#34;eslint --fix&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>      <span style="color:#e6db74">&#34;git add&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>    ]
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h4 id="è¯´æ˜-1">è¯´æ˜</h4>
<p>å¦‚ä¸Šé…ç½®ï¼Œæ¯æ¬¡å®ƒåªä¼šåœ¨ä½ æœ¬åœ° commit ä¹‹å‰ï¼Œæ ¡éªŒä½ æäº¤çš„å†…å®¹æ˜¯å¦ç¬¦åˆä½ æœ¬åœ°é…ç½®çš„ eslintè§„åˆ™(è¿™ä¸ªè§æ–‡æ¡£<a class="link" href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/eslint.html"  target="_blank" rel="noopener"
    >ESLint</a>)ï¼Œæ ¡éªŒä¼šå‡ºç°ä¸¤ç§ç»“æœï¼š</p>
<ol>
<li>å¦‚æœç¬¦åˆè§„åˆ™ï¼šåˆ™ä¼šæäº¤æˆåŠŸã€‚</li>
<li>å¦‚æœä¸ç¬¦åˆè§„åˆ™ï¼šå®ƒä¼šè‡ªåŠ¨æ‰§è¡Œ eslint &ndash;fix å°è¯•å¸®ä½ è‡ªåŠ¨ä¿®å¤ï¼Œå¦‚æœä¿®å¤æˆåŠŸåˆ™ä¼šå¸®ä½ æŠŠä¿®å¤å¥½çš„ä»£ç æäº¤ï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™ä¼šæç¤ºä½ é”™è¯¯ï¼Œè®©ä½ ä¿®å¥½è¿™ä¸ªé”™è¯¯ä¹‹åæ‰èƒ½å…è®¸ä½ æäº¤ä»£ç ã€‚</li>
</ol>
<h4 id="ä¿®æ”¹huskypre-commitæ–‡ä»¶">ä¿®æ”¹.husky/pre-commitæ–‡ä»¶</h4>
<pre tabindex="0"><code class="language-dos" data-lang="dos">#!/bin/sh
. &#34;$(dirname &#34;$0&#34;)/_/husky.sh&#34;

npx eslint --ext .js,.vue src
+ npx lint-staged
</code></pre><p>å†æ¬¡æ‰§è¡Œæäº¤ä»£ç ï¼Œå‘ç° æš‚å­˜åŒºä¸­ ä¸ç¬¦åˆ ESlint çš„å†…å®¹ï¼Œè¢«è‡ªåŠ¨ä¿®å¤ã€‚</p>
<hr>
<p>åœ¨é¡¹ç›®çš„package.jsonä¸­æ·»åŠ commité’©å­(è®¾ç½®æ ¡éªŒè§„åˆ™)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;husky&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;hooks&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;commit-msg&#34;</span>: <span style="color:#e6db74">&#34;commitlint -E HUSKY_GIT_PARAMS&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>commit-msg ä»£è¡¨å¯¹ commit message è¿›è¡Œ hookï¼Œhook çš„æ—¶å€™æ‰§è¡Œåé¢çš„å‘½ä»¤ commitlint -E HUSKY_GIT_PARAMS è¿›è¡Œæ£€æŸ¥ã€‚</p>
<h3 id="husky">Husky</h3>
<p>å¯¹äºhuskyç”¨æˆ·ï¼Œåœ¨package.jsonä¸­æ·»åŠ ä¸‹åˆ—é…ç½®ï¼š</p>
<pre tabindex="0"><code>&#34;husky&#34;: {
  &#34;hooks&#34;: {
    &#34;prepare-commit-msg&#34;: &#34;exec &lt; /dev/tty &amp;&amp; npx cz --hook || true&#34;
  }
}
</code></pre><h2 id="æ–°gité¡¹ç›®çš„ä½¿ç”¨">æ–°gité¡¹ç›®çš„ä½¿ç”¨</h2>
<h3 id="æè¿°-3">æè¿°</h3>
<p>ä»Šå¤©å‡†å¤‡ä½¿ç”¨gitæäº¤æ·±åœ³14å·çº¿çš„ä»£ç ï¼Œè®°å½•ä¸€ä¸‹ä½¿ç”¨è¿‡ç¨‹ã€‚
gité¡¹ç›®ä½¿ç”¨gitæäº¤è§„èŒƒã€‚</p>
<h3 id="å®‰è£…husky-1">å®‰è£…husky</h3>
<p>1.å…ˆåˆå§‹è¯cz-conventional-changelog</p>
<pre tabindex="0"><code class="language-linux" data-lang="linux">PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; git cz
Ã—  error     No files staged!
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; date

2023å¹´5æœˆ12æ—¥ 14:51:38


PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; commitizen init cz-conventional-changelog --save --save-exact
commitizen : æ— æ³•åŠ è½½æ–‡ä»¶ C:\Users\daizelai\AppData\Roaming\npm\commitizen.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚æœ‰å…³è¯¦ç»†ä¿¡
æ¯ï¼Œè¯·å‚é˜… https:/go.microsoft.com/fwlink/?LinkID=135170 ä¸­çš„ about_Execution_Policiesã€‚
æ‰€åœ¨ä½ç½® è¡Œ:1 å­—ç¬¦: 1
+ commitizen init cz-conventional-changelog --save --save-exact
+ ~~~~~~~~~~
    + CategoryInfo          : SecurityError: (:) []ï¼ŒPSSecurityException
    + FullyQualifiedErrorId : UnauthorizedAccess
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; npx commitizen init cz-conventional-changelog --save-dev --save-exact
Attempting to initialize using the npm package cz-conventional-changelog
Error: Error: A previous adapter is already configured. Use --force to override
    adapterConfig.path: cz-conventional-changelog
    repoPath: D:\code\gbcom_gitlab\SZ14_Android_APP
    CLI_PATH: C:\Users\daizelai\AppData\Roaming\npm\node_modules\commitizen\
    installAdapterCommand: npm install cz-conventional-changelog --save-dev
    adapterNpmName: cz-conventional-changelog

PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; npx commitizen init cz-conventional-changelog --save-dev --save-exact --force
Attempting to initialize using the npm package cz-conventional-changelog
npm WARN using --force Recommended protections disabled.
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt;
</code></pre><p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œä¼šç”Ÿæˆå¦‚ä¸‹æ–‡ä»¶å’Œç›®å½•ã€‚</p>
<ul>
<li>package.json</li>
<li>package-lock.json</li>
<li>node_modules</li>
</ul>
<p>æ­¤æ—¶jsonæ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cz-conventional-changelog&#34;</span>: <span style="color:#e6db74">&#34;^3.3.0&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;config&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;commitizen&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;./node_modules/cz-conventional-changelog&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>2.å®‰è£…husky</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; date

2023å¹´5æœˆ12æ—¥ 14:58:38


PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; npm install husky --save-dev ã€æ­¤å‘½ä»¤æ‰§è¡Œå®Œååœ¨jsonä¸­æ·»åŠ ï¼ˆ&#34;husky&#34;: &#34;^8.0.3&#34;ï¼‰ã€‘

added 1 package, and audited 193 packages in 3s

25 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; npx husky install
husky - Git hooks installed
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt;
</code></pre><p>æ‰§è¡Œ<code>npx husky install</code>ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ç”Ÿæˆäº†<code>.husky</code>ç›®å½•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cz-conventional-changelog&#34;</span>: <span style="color:#e6db74">&#34;^3.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^8.0.3&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;config&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;commitizen&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;./node_modules/cz-conventional-changelog&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>3.æ·»åŠ  husky install åˆ° package.json scripts ä¸­</p>
<p>ä¸ºäº†è®©å…¶ä»–äººåœ¨æ­¤é¡¹ç›®ä¸­å®‰è£…ä¾èµ–åä¹Ÿèƒ½è‡ªåŠ¨åˆ›å»º.huskyç›®å½•å¹¶æŒ‡å®šè¯¥ç›®å½•ä¸ºgit hooksæ‰€åœ¨çš„ç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦åœ¨package.jsoné‡Œé¢æ·»åŠ ä¸€æ¡è„šæœ¬å‘½ä»¤&quot;prepare&quot;: &ldquo;husky install&rdquo;ï¼Œç„¶åæ‰§è¡Œnpm run prepare</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cz-conventional-changelog&#34;</span>: <span style="color:#e6db74">&#34;^3.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^8.0.3&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>    <span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;changelog&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;changelogs&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;config&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;commitizen&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;./node_modules/cz-conventional-changelog&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å®‰è£…å¥½huskyä¹‹åï¼Œéœ€è¦é…ç½®æ£€æµ‹è§„åˆ™ã€‚</p>
<h3 id="commitlint">Commitlint</h3>
<p>4.å®‰è£…Commitlint</p>
<blockquote>
<p>è¯¥å·¥å…·ç”¨äºå¸®åŠ©æˆ‘ä»¬è§„èŒƒæäº¤ä¿¡æ¯</p>
</blockquote>
<pre tabindex="0"><code class="language-linux" data-lang="linux">PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; date

2023å¹´5æœˆ12æ—¥ 15:09:14


PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; npm install @commitlint/config-conventional @commitlint/cli --save-dev

added 116 packages, and audited 309 packages in 20s

43 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt;
</code></pre><p>ä¸Šé¢çš„æ“ä½œä¿®æ”¹äº†</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;devDependencies&#34;</span>: {
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>    <span style="color:#f92672">&#34;@commitlint/cli&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">+</span>    <span style="color:#f92672">&#34;@commitlint/config-conventional&#34;</span>: <span style="color:#e6db74">&#34;^17.6.3&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;cz-conventional-changelog&#34;</span>: <span style="color:#e6db74">&#34;^3.3.0&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;husky&#34;</span>: <span style="color:#e6db74">&#34;^8.0.3&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;scripts&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;prepare&#34;</span>: <span style="color:#e6db74">&#34;husky install&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;changelog&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;changelogs&#34;</span>: <span style="color:#e6db74">&#34;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;config&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;commitizen&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;path&#34;</span>: <span style="color:#e6db74">&#34;./node_modules/cz-conventional-changelog&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>5.åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºcommitlint.config.jsæ–‡ä»¶</p>
<pre tabindex="0"><code>daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/WH19-MetroSystem (develop)
$ echo &#34;&#34;&gt;commitlint.config.js
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">module</span>.<span style="color:#a6e22e">exports</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// å¿½ç•¥éƒ¨åˆ†
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">ignores</span><span style="color:#f92672">:</span> [(<span style="color:#a6e22e">commit</span>) =&gt; <span style="color:#a6e22e">commit</span>.<span style="color:#a6e22e">includes</span>(<span style="color:#e6db74">&#34;init&#34;</span>)],
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// ç»§æ‰¿çš„è§„åˆ™
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">extends</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#34;@commitlint/config-conventional&#34;</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// å®šä¹‰è§„åˆ™ç±»å‹
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">rules</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;body-leading-blank&#34;</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;always&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;footer-leading-blank&#34;</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#34;always&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;header-max-length&#34;</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;always&#34;</span>, <span style="color:#ae81ff">108</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;subject-empty&#34;</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;never&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;type-empty&#34;</span><span style="color:#f92672">:</span> [<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#34;never&#34;</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// type ç±»å‹å®šä¹‰ï¼Œè¡¨ç¤º git æäº¤çš„ type å¿…é¡»åœ¨ä»¥ä¸‹ç±»å‹èŒƒå›´å†…
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#e6db74">&#34;type-enum&#34;</span><span style="color:#f92672">:</span> [
</span></span><span style="display:flex;"><span>      <span style="color:#ae81ff">2</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;always&#34;</span>,
</span></span><span style="display:flex;"><span>      [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;feat&#34;</span>, <span style="color:#75715e">// æ–°å¢feature
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;fix&#34;</span>, <span style="color:#75715e">// ä¿®å¤bug
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;perf&#34;</span>, <span style="color:#75715e">// ä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æ€§èƒ½ã€ä½“éªŒçš„æå‡
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;style&#34;</span>, <span style="color:#75715e">// ä»…ä»…ä¿®æ”¹äº†ç©ºæ ¼ã€æ ¼å¼ç¼©è¿›ã€é€—å·ç­‰ç­‰ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;docs&#34;</span>, <span style="color:#75715e">//  ä»…ä»…ä¿®æ”¹äº†æ–‡æ¡£ï¼Œæ¯”å¦‚README, CHANGELOG, CONTRIBUTEç­‰ç­‰;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;test&#34;</span>, <span style="color:#75715e">// æµ‹è¯•ç”¨ä¾‹ï¼ŒåŒ…æ‹¬å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;refactor&#34;</span>, <span style="color:#75715e">// ä»£ç é‡æ„ï¼Œæ²¡æœ‰åŠ æ–°åŠŸèƒ½æˆ–è€…ä¿®å¤bug
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;build&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;ci&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;chore&#34;</span>, <span style="color:#75715e">// æ”¹å˜æ„å»ºæµç¨‹ã€æˆ–è€…å¢åŠ ä¾èµ–åº“ã€å·¥å…·ç­‰
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;revert&#34;</span>, <span style="color:#75715e">// å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;wip&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;workflow&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;types&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;release&#34;</span>,
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>    ],
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>6.ä½¿ç”¨ commit-msg é’©å­è§„èŒƒåŒ–æäº¤ä¿¡æ¯</p>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¿«é€Ÿåˆ›å»ºgit hooksçš„commit-msgé’©å­ï¼Œè¿™æ ·æ¯æ¬¡commitçš„æ—¶å€™éƒ½ä¼šç”± commitlintå¯¹commitä¿¡æ¯è¿›è¡Œä¸€æ¬¡æ£€éªŒã€‚</p>
<pre tabindex="0"><code class="language-dos" data-lang="dos">PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; date

2023å¹´5æœˆ12æ—¥ 15:13:17


PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; npx husky add .husky/commit-msg &#39;npx --no-install commitlint --edit &#34;$1&#34;&#39;
husky - created .husky/commit-msg
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt;
</code></pre><p>ä¸Šé¢çš„æ“ä½œåˆ›å»ºäº†<code>D:\code\gbcom_gitlab\SZ14_Android_APP\.husky\commit-msg</code>æ–‡ä»¶ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/env sh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>. <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>dirname -- <span style="color:#e6db74">&#34;</span>$0<span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">/_/husky.sh&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npx --no-install commitlint --edit $1
</span></span></code></pre></div><p>7.æäº¤git commit æµ‹è¯•</p>
<pre tabindex="0"><code class="language-git" data-lang="git">daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SZ14_Android_APP (develop)
$ date
Fri May 12 15:16:00     2023

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SZ14_Android_APP (develop)
$ git status
On branch develop
Your branch is up to date with &#39;origin/develop&#39;.

Changes not staged for commit:
  (use &#34;git add &lt;file&gt;...&#34; to update what will be committed)
  (use &#34;git restore &lt;file&gt;...&#34; to discard changes in working directory)
        modified:   app/src/main/java/com/gbcom/subwaysystem/activity/TrainActivity.java
        modified:   app/src/main/java/com/gbcom/subwaysystem/adapter/DisListAdapter.java

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
        .husky/
        commitlint.config.js
        node_modules/
        package-lock.json
        package.json

no changes added to commit (use &#34;git add&#34; and/or &#34;git commit -a&#34;)

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SZ14_Android_APP (develop)
$ git add app/src/main/java/com/gbcom/subwaysystem/activity/TrainActivity.java app/src/main/java/com/gbcom/subwaysystem/adapter/DisListAdapter.java
warning: LF will be replaced by CRLF in app/src/main/java/com/gbcom/subwaysystem/adapter/DisListAdapter.java.
The file will have its original line endings in your working directory

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SZ14_Android_APP (develop)
$ git status
On branch develop
Your branch is up to date with &#39;origin/develop&#39;.

Changes to be committed:
  (use &#34;git restore --staged &lt;file&gt;...&#34; to unstage)
        modified:   app/src/main/java/com/gbcom/subwaysystem/activity/TrainActivity.java
        modified:   app/src/main/java/com/gbcom/subwaysystem/adapter/DisListAdapter.java

Untracked files:
  (use &#34;git add &lt;file&gt;...&#34; to include in what will be committed)
        .husky/
        commitlint.config.js
        node_modules/
        package-lock.json
        package.json


daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SZ14_Android_APP (develop)
$ git commit -m &#34;å·¥ç¨‹è½¦è¯·å‘¼ä¿®æ”¹æäº¤&#34;
â§—   input: å·¥ç¨‹è½¦è¯·å‘¼ä¿®æ”¹æäº¤
âœ–   subject may not be empty [subject-empty]
âœ–   type may not be empty [type-empty]

âœ–   found 2 problems, 0 warnings
â“˜   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint

husky - commit-msg hook exited with code 1 (error)

daizelai@GBCOM-20210524I MINGW64 /d/code/gbcom_gitlab/SZ14_Android_APP (develop)
$
</code></pre><p>ç°åœ¨ä½¿ç”¨<code>git cz</code>è¯•è¯•ã€‚</p>
<pre tabindex="0"><code class="language-git" data-lang="git">PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; date

2023å¹´5æœˆ12æ—¥ 15:21:28


PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; git cz
? Select the type of change that you&#39;re committing: ğŸ¸  feat:       A new feature
? Write a short, imperative mood description of the change:
  [-------------------------------------------------------------] 55 chars left
   feat: è½¦è½½å°å·¥ç¨‹è½¦è¯·å‘¼æ—¶éœ€è¦å¼¹å‡ºå¯é€‰æ‹©çš„è°ƒåº¦å°åˆ—è¡¨
? Provide a longer description of the change:
  å¦‚æœæ˜¯å·¥ç¨‹è½¦ï¼Œå‘èµ·è¯·å‘¼æ—¶ï¼Œå¼¹å‡ºè°ƒåº¦å°åˆ—è¡¨ç»™ç”¨æˆ·é€‰æ‹©
? List any breaking changes
  BREAKING CHANGE:
? Issues this commit closes, e.g #123: #26
[develop 1def850] feat: ğŸ¸ è½¦è½½å°å·¥ç¨‹è½¦è¯·å‘¼æ—¶éœ€è¦å¼¹å‡ºå¯é€‰æ‹©çš„è°ƒåº¦å°åˆ—è¡¨
 2 files changed, 31 insertions(+), 14 deletions(-)
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt; git log -n 1
commit 1def850b055da0a07915b41d092d70b89f18cc0f (HEAD -&gt; develop)
Author: daizelai &lt;daizelai@gbcom.com.cn&gt;
Date:   Fri May 12 15:24:50 2023 +0800

    feat: ğŸ¸ è½¦è½½å°å·¥ç¨‹è½¦è¯·å‘¼æ—¶éœ€è¦å¼¹å‡ºå¯é€‰æ‹©çš„è°ƒåº¦å°åˆ—è¡¨

    å¦‚æœæ˜¯å·¥ç¨‹è½¦ï¼Œå‘èµ·è¯·å‘¼æ—¶ï¼Œå¼¹å‡ºè°ƒåº¦å°åˆ—è¡¨ç»™ç”¨æˆ·é€‰æ‹©

    âœ… Closes: #26
PS D:\code\gbcom_gitlab\SZ14_Android_APP&gt;
</code></pre>
</section>


    <footer class="article-footer">
    

    </footer>


    
</article>

    

    

     
    
        
    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2023 My New Hugo Site
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.16.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
